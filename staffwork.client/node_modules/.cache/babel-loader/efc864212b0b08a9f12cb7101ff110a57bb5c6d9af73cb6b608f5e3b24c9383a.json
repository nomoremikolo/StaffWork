{"ast":null,"code":"import _slicedToArray from\"C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import\"./WareMockup.module.css\";import{Heart,HeartFill}from\"react-bootstrap-icons\";import{Link,useNavigate}from\"react-router-dom\";import{useAppDispatch}from\"../hooks/redux\";import{add_to_favorite,remove_from_favorite}from\"../redux/action_creators/ware_action_creator\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var WareMockup=function WareMockup(_ref){var item=_ref.item;var dispatch=useAppDispatch();var _useState=useState(item.isFavorite!=null&&true?item.isFavorite:false),_useState2=_slicedToArray(_useState,2),liked=_useState2[0],setLiked=_useState2[1];// console.log(item.isFavorite)\nvar navigate=useNavigate();var handleClick=function handleClick(){setLiked(!liked);dispatch(liked?remove_from_favorite(item.id):add_to_favorite(item.id));};useEffect(function(){setLiked(item.isFavorite||liked);},[item.isFavorite]);return/*#__PURE__*/_jsxs(\"div\",{className:\"grow card hover shadow mt-4 me-lg-4 col-12 col-md-4 mx-auto mx-lg-0\",style:{\"width\":\"18rem\"},children:[/*#__PURE__*/_jsxs(Link,{className:'text-decoration-none',to:\"/Wares/\".concat(item.id),children:[item.isDiscount?/*#__PURE__*/_jsxs(\"p\",{className:\"position-absolute top-0 start-0 bg-danger px-2 py-1 m-2 text-white\",children:[\"-\",100-Math.floor(100*item.price/item.oldPrice),\"%\"]}):/*#__PURE__*/_jsx(_Fragment,{}),item.countInStorage<10?/*#__PURE__*/_jsx(\"p\",{className:\"position-absolute top-0 end-0 bg-danger px-2 py-1 m-2 text-white\",children:\"\\u0417\\u0430\\u043A\\u0456\\u043D\\u0447\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"img\",{src:\"https://www.staff-clothes.com/_next/image/?url=https%3A%2F%2Fstatic.staff-clothes.com%2Fmedia%2Fcache%2Fimage_product_desktop_catalog%2Fimage_product%2F0002%2F73%2Fe3b0187358014ffeadec729c7f0beebf.jpeg&w=1920&q=75\",className:\"card-img-top blur-elem\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:/*#__PURE__*/_jsx(\"p\",{className:'d-inline',children:item.name})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-muted\",children:item.sizes}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger d-inline\",children:[item.price,\" \\u0433\\u0440\\u043D.\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted d-inline\",children:/*#__PURE__*/_jsxs(\"del\",{children:[item.oldPrice,\" \\u0433\\u0440\\u043D.\"]})})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn position-absolute bottom-0 end-0\",onClick:handleClick,children:liked?/*#__PURE__*/_jsx(HeartFill,{height:20,width:20}):/*#__PURE__*/_jsx(Heart,{height:20,width:20})})]});};export default WareMockup;","map":{"version":3,"names":["React","useEffect","useState","Heart","HeartFill","Link","useNavigate","useAppDispatch","add_to_favorite","remove_from_favorite","WareMockup","item","dispatch","isFavorite","liked","setLiked","navigate","handleClick","id","isDiscount","Math","floor","price","oldPrice","countInStorage","name","sizes"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/components/WareMockup.tsx"],"sourcesContent":["import React, {FC, useEffect, useRef, useState} from 'react';\r\nimport {IWare} from \"../types/ware\";\r\nimport \"./WareMockup.module.css\"\r\nimport {Heart, HeartFill} from \"react-bootstrap-icons\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport {useAppDispatch} from \"../hooks/redux\";\r\nimport {wareReducer} from \"../redux/reducers/wareReducer\";\r\nimport {add_to_favorite, remove_from_favorite} from \"../redux/action_creators/ware_action_creator\";\r\n\r\ninterface IWareMockupProps{\r\n    item: IWare\r\n}\r\nconst WareMockup:FC<IWareMockupProps> = ({item}) => {\r\n    const dispatch = useAppDispatch()\r\n    const [liked, setLiked] = useState<boolean>(item.isFavorite != null && true ? item.isFavorite : false)\r\n    // console.log(item.isFavorite)\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const handleClick = () => {\r\n        setLiked(!liked)\r\n        dispatch(liked ? remove_from_favorite(item.id) : add_to_favorite(item.id))\r\n    }\r\n    useEffect(() => {\r\n        setLiked(item.isFavorite || liked)\r\n    }, [item.isFavorite])\r\n    return (\r\n        <div className=\"grow card hover shadow mt-4 me-lg-4 col-12 col-md-4 mx-auto mx-lg-0\" style={{\"width\": \"18rem\"}}>\r\n            <Link className={'text-decoration-none'} to={`/Wares/${item.id}`}>\r\n                {item.isDiscount ? (<p className=\"position-absolute top-0 start-0 bg-danger px-2 py-1 m-2 text-white\">-{100 - Math.floor(100 * item.price / item.oldPrice)}%</p>) : <></>}\r\n                {item.countInStorage < 10 ? (<p className=\"position-absolute top-0 end-0 bg-danger px-2 py-1 m-2 text-white\">Закінчується</p>) : <></>}\r\n                <img\r\n                    src=\"https://www.staff-clothes.com/_next/image/?url=https%3A%2F%2Fstatic.staff-clothes.com%2Fmedia%2Fcache%2Fimage_product_desktop_catalog%2Fimage_product%2F0002%2F73%2Fe3b0187358014ffeadec729c7f0beebf.jpeg&w=1920&q=75\"\r\n                    className=\"card-img-top blur-elem\" alt=\"...\"/>\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\"><p className={'d-inline'}>{item.name}</p></h5>\r\n                    <p className=\"card-text text-muted\">{item.sizes}</p>\r\n                    <p className=\"text-danger d-inline\">{item.price} грн.</p>\r\n                    <p className=\"text-muted d-inline\">\r\n                        <del>{item.oldPrice} грн.</del>\r\n                    </p>\r\n                </div>\r\n            </Link>\r\n            <button className=\"btn position-absolute bottom-0 end-0\" onClick={handleClick}>{liked ? <HeartFill height={20} width={20}/> : <Heart height={20} width={20}/>}</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WareMockup;"],"mappings":"4IAAA,MAAOA,MAAK,EAAOC,SAAS,CAAUC,QAAQ,KAAO,OAAO,CAE5D,MAAO,yBAAyB,CAChC,OAAQC,KAAK,CAAEC,SAAS,KAAO,uBAAuB,CACtD,OAAQC,IAAI,CAAEC,WAAW,KAAO,kBAAkB,CAClD,OAAQC,cAAc,KAAO,gBAAgB,CAE7C,OAAQC,eAAe,CAAEC,oBAAoB,KAAO,8CAA8C,CAAC,6IAKnG,GAAMC,WAA+B,CAAG,QAAlCA,WAA+B,MAAe,IAAVC,KAAI,MAAJA,IAAI,CAC1C,GAAMC,SAAQ,CAAGL,cAAc,EAAE,CACjC,cAA0BL,QAAQ,CAAUS,IAAI,CAACE,UAAU,EAAI,IAAI,EAAI,IAAI,CAAGF,IAAI,CAACE,UAAU,CAAG,KAAK,CAAC,wCAA/FC,KAAK,eAAEC,QAAQ,eACtB;AACA,GAAMC,SAAQ,CAAGV,WAAW,EAAE,CAG9B,GAAMW,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtBF,QAAQ,CAAC,CAACD,KAAK,CAAC,CAChBF,QAAQ,CAACE,KAAK,CAAGL,oBAAoB,CAACE,IAAI,CAACO,EAAE,CAAC,CAAGV,eAAe,CAACG,IAAI,CAACO,EAAE,CAAC,CAAC,CAC9E,CAAC,CACDjB,SAAS,CAAC,UAAM,CACZc,QAAQ,CAACJ,IAAI,CAACE,UAAU,EAAIC,KAAK,CAAC,CACtC,CAAC,CAAE,CAACH,IAAI,CAACE,UAAU,CAAC,CAAC,CACrB,mBACI,aAAK,SAAS,CAAC,qEAAqE,CAAC,KAAK,CAAE,CAAC,OAAO,CAAE,OAAO,CAAE,wBAC3G,MAAC,IAAI,EAAC,SAAS,CAAE,sBAAuB,CAAC,EAAE,kBAAYF,IAAI,CAACO,EAAE,CAAG,WAC5DP,IAAI,CAACQ,UAAU,cAAI,WAAG,SAAS,CAAC,oEAAoE,eAAG,GAAG,CAAGC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAGV,IAAI,CAACW,KAAK,CAAGX,IAAI,CAACY,QAAQ,CAAC,OAAM,cAAI,kBAAK,CACxKZ,IAAI,CAACa,cAAc,CAAG,EAAE,cAAI,UAAG,SAAS,CAAC,kEAAkE,sFAAiB,cAAI,kBAAK,cACtI,YACI,GAAG,CAAC,uNAAuN,CAC3N,SAAS,CAAC,wBAAwB,CAAC,GAAG,CAAC,KAAK,EAAE,cAClD,aAAK,SAAS,CAAC,WAAW,wBACtB,WAAI,SAAS,CAAC,YAAY,uBAAC,UAAG,SAAS,CAAE,UAAW,UAAEb,IAAI,CAACc,IAAI,EAAK,EAAK,cACzE,UAAG,SAAS,CAAC,sBAAsB,UAAEd,IAAI,CAACe,KAAK,EAAK,cACpD,WAAG,SAAS,CAAC,sBAAsB,WAAEf,IAAI,CAACW,KAAK,0BAAU,cACzD,UAAG,SAAS,CAAC,qBAAqB,uBAC9B,uBAAMX,IAAI,CAACY,QAAQ,0BAAY,EAC/B,GACF,GACH,cACP,eAAQ,SAAS,CAAC,sCAAsC,CAAC,OAAO,CAAEN,WAAY,UAAEH,KAAK,cAAG,KAAC,SAAS,EAAC,MAAM,CAAE,EAAG,CAAC,KAAK,CAAE,EAAG,EAAE,cAAG,KAAC,KAAK,EAAC,MAAM,CAAE,EAAG,CAAC,KAAK,CAAE,EAAG,EAAE,EAAU,GACrK,CAEd,CAAC,CAED,cAAeJ,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}