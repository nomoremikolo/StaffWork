{"ast":null,"code":"import React from'react';import{Link}from\"react-router-dom\";import{fetch_favorite_wares,remove_from_favorite}from\"../../redux/action_creators/ware_action_creator\";import{Heartbreak}from\"react-bootstrap-icons\";import{useAppDispatch}from\"../../hooks/redux\";import{ImagesEndpoint}from\"../../global_variables\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CabinetFavorite=function CabinetFavorite(_ref){var favoriteWares=_ref.favoriteWares;var dispatch=useAppDispatch();var fetch_favorite=function fetch_favorite(){dispatch(fetch_favorite_wares());};return/*#__PURE__*/_jsx(\"div\",{className:\"w-50 mx-auto mt-3\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-borderless\",children:/*#__PURE__*/_jsx(\"tbody\",{children:favoriteWares.length>0?favoriteWares.map(function(item){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{className:'text-decoration-none',to:\"/Wares/\".concat(item.wareId),children:/*#__PURE__*/_jsxs(\"div\",{className:'d-block position-relative',children:[/*#__PURE__*/_jsxs(\"div\",{className:'row border border-2',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-3\",children:[/*#__PURE__*/_jsx(\"img\",{height:200,width:200,src:\"\".concat(ImagesEndpoint,\"/Get/\").concat(item.thumbnail),alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:'position-absolute top-0 start-0 mt-2',children:[item.isDiscount?/*#__PURE__*/_jsxs(\"p\",{className:\"bg-danger px-2 py-1 text-white d-inline\",children:[\"-\",100-Math.floor(100*item.price/item.oldPrice),\"%\"]}):/*#__PURE__*/_jsx(_Fragment,{}),item.countInStorage<10?/*#__PURE__*/_jsx(\"p\",{className:\"bg-danger px-2 py-1 text-white d-inline\",children:item.countInStorage<1?/*#__PURE__*/_jsx(_Fragment,{children:\"Ended\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Ends\"})}):/*#__PURE__*/_jsx(_Fragment,{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"h4\",{className:'mt-4',children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-muted\",children:item.sizes}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger d-inline\",children:[item.price,\" \\u0433\\u0440\\u043D.\"]}),item.isDiscount?/*#__PURE__*/_jsx(\"p\",{className:\"text-muted d-inline\",children:/*#__PURE__*/_jsxs(\"del\",{children:[item.oldPrice,\" \\u0433\\u0440\\u043D.\"]})}):/*#__PURE__*/_jsx(_Fragment,{}),item.countInStorage>0?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(\"p\",{className:'text-decoration-underline mt-1',children:\"Ended\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch(remove_from_favorite(item.wareId,function(){return fetch_favorite();}));},className:\"btn position-absolute bottom-0 end-0\",children:\" Remove from favorite\"})]})})})});}):/*#__PURE__*/_jsxs(\"h3\",{className:'text-center mt-5',children:[\"Oops, it's empty\",/*#__PURE__*/_jsx(Heartbreak,{width:64,height:64})]})})})});};export default CabinetFavorite;","map":{"version":3,"names":["React","Link","fetch_favorite_wares","remove_from_favorite","Heartbreak","useAppDispatch","ImagesEndpoint","CabinetFavorite","favoriteWares","dispatch","fetch_favorite","length","map","item","wareId","thumbnail","isDiscount","Math","floor","price","oldPrice","countInStorage","name","sizes"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Account/CabinetFavorite.tsx"],"sourcesContent":["import React, {FC} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {fetch_favorite_wares, remove_from_favorite} from \"../../redux/action_creators/ware_action_creator\";\r\nimport {Heartbreak} from \"react-bootstrap-icons\";\r\nimport {IWare} from \"../../types/ware\";\r\nimport {useAppDispatch} from \"../../hooks/redux\";\r\nimport {ImagesEndpoint} from \"../../global_variables\";\r\n\r\ninterface ICabinetFavorite {\r\n    favoriteWares: IWare[]\r\n}\r\nconst CabinetFavorite:FC<ICabinetFavorite> = ({favoriteWares}) => {\r\n    const dispatch = useAppDispatch()\r\n    const fetch_favorite = () => {\r\n        dispatch(fetch_favorite_wares())\r\n    }\r\n    return (\r\n        <div className={`w-50 mx-auto mt-3`}>\r\n            {/*<p className={'text-center'}><Link to={'NewWare'}>New ware</Link></p>*/}\r\n            <table className=\"table table-borderless\">\r\n                <tbody>\r\n                {favoriteWares.length > 0 ? favoriteWares.map(item => (\r\n                    <tr>\r\n                        <td>\r\n                            <Link className={'text-decoration-none'} to={`/Wares/${item.wareId}`}>\r\n                                <div className={'d-block position-relative'}>\r\n                                    <div className={'row border border-2'}>\r\n                                        <div className=\"col-3\">\r\n                                            <img height={200} width={200}\r\n                                                 src={`${ImagesEndpoint}/Get/${item.thumbnail}`}\r\n                                                 alt=\"\"/>\r\n                                            <div className={'position-absolute top-0 start-0 mt-2'}>\r\n                                                {item.isDiscount ? (\r\n                                                    <p className=\"bg-danger px-2 py-1 text-white d-inline\">-{100 - Math.floor(100 * item.price / item.oldPrice)}%</p>) : <></>}\r\n                                                {item.countInStorage < 10 ? (\r\n                                                    <p className=\"bg-danger px-2 py-1 text-white d-inline\">{item.countInStorage < 1 ? <>Ended</> : <>Ends</>}</p>) : <></>}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <h4 className={'mt-4'}>{item.name}</h4>\r\n                                            <p className=\"card-text text-muted\">{item.sizes}</p>\r\n                                            <p className=\"text-danger d-inline\">{item.price} грн.</p>\r\n                                            {item.isDiscount ? <p className=\"text-muted d-inline\">\r\n                                                <del>{item.oldPrice} грн.</del>\r\n                                            </p> : <></>}\r\n                                            {item.countInStorage > 0 ?\r\n                                                <></> :\r\n                                                <p className={'text-decoration-underline mt-1'}>Ended</p>}\r\n                                        </div>\r\n                                    </div>\r\n                                    <button onClick={() => dispatch(remove_from_favorite(item.wareId!, () => fetch_favorite()))} className=\"btn position-absolute bottom-0 end-0\"> Remove from favorite</button>\r\n                                </div>\r\n                            </Link>\r\n                        </td>\r\n                    </tr>\r\n                )) : <h3 className={'text-center mt-5'}>Oops, it's empty<Heartbreak width={64} height={64}/></h3>}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CabinetFavorite;"],"mappings":"AAAA,MAAOA,MAAK,KAAY,OAAO,CAC/B,OAAQC,IAAI,KAAO,kBAAkB,CACrC,OAAQC,oBAAoB,CAAEC,oBAAoB,KAAO,iDAAiD,CAC1G,OAAQC,UAAU,KAAO,uBAAuB,CAEhD,OAAQC,cAAc,KAAO,mBAAmB,CAChD,OAAQC,cAAc,KAAO,wBAAwB,CAAC,6IAKtD,GAAMC,gBAAoC,CAAG,QAAvCA,gBAAoC,MAAwB,IAAnBC,cAAa,MAAbA,aAAa,CACxD,GAAMC,SAAQ,CAAGJ,cAAc,EAAE,CACjC,GAAMK,eAAc,CAAG,QAAjBA,eAAc,EAAS,CACzBD,QAAQ,CAACP,oBAAoB,EAAE,CAAC,CACpC,CAAC,CACD,mBACI,YAAK,SAAS,oBAAsB,uBAEhC,cAAO,SAAS,CAAC,wBAAwB,uBACrC,uBACCM,aAAa,CAACG,MAAM,CAAG,CAAC,CAAGH,aAAa,CAACI,GAAG,CAAC,SAAAC,IAAI,qBAC9C,iCACI,iCACI,KAAC,IAAI,EAAC,SAAS,CAAE,sBAAuB,CAAC,EAAE,kBAAYA,IAAI,CAACC,MAAM,CAAG,uBACjE,aAAK,SAAS,CAAE,2BAA4B,wBACxC,aAAK,SAAS,CAAE,qBAAsB,wBAClC,aAAK,SAAS,CAAC,OAAO,wBAClB,YAAK,MAAM,CAAE,GAAI,CAAC,KAAK,CAAE,GAAI,CACxB,GAAG,WAAKR,cAAc,iBAAQO,IAAI,CAACE,SAAS,CAAG,CAC/C,GAAG,CAAC,EAAE,EAAE,cACb,aAAK,SAAS,CAAE,sCAAuC,WAClDF,IAAI,CAACG,UAAU,cACZ,WAAG,SAAS,CAAC,yCAAyC,eAAG,GAAG,CAAGC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAGL,IAAI,CAACM,KAAK,CAAGN,IAAI,CAACO,QAAQ,CAAC,OAAM,cAAI,kBAAK,CAC7HP,IAAI,CAACQ,cAAc,CAAG,EAAE,cACrB,UAAG,SAAS,CAAC,yCAAyC,UAAER,IAAI,CAACQ,cAAc,CAAG,CAAC,cAAG,kCAAU,cAAG,iCAAS,EAAK,cAAI,kBAAK,GACxH,GACJ,cACN,aAAK,SAAS,CAAC,KAAK,wBAChB,WAAI,SAAS,CAAE,MAAO,UAAER,IAAI,CAACS,IAAI,EAAM,cACvC,UAAG,SAAS,CAAC,sBAAsB,UAAET,IAAI,CAACU,KAAK,EAAK,cACpD,WAAG,SAAS,CAAC,sBAAsB,WAAEV,IAAI,CAACM,KAAK,0BAAU,CACxDN,IAAI,CAACG,UAAU,cAAG,UAAG,SAAS,CAAC,qBAAqB,uBACjD,uBAAMH,IAAI,CAACO,QAAQ,0BAAY,EAC/B,cAAG,kBAAK,CACXP,IAAI,CAACQ,cAAc,CAAG,CAAC,cACpB,kBAAK,cACL,UAAG,SAAS,CAAE,gCAAiC,mBAAU,GAC3D,GACJ,cACN,eAAQ,OAAO,CAAE,yBAAMZ,SAAQ,CAACN,oBAAoB,CAACU,IAAI,CAACC,MAAM,CAAG,iBAAMJ,eAAc,EAAE,GAAC,CAAC,EAAC,CAAC,SAAS,CAAC,sCAAsC,mCAA+B,GAC1K,EACH,EACN,EACJ,EACR,CAAC,cAAG,YAAI,SAAS,CAAE,kBAAmB,2CAAiB,KAAC,UAAU,EAAC,KAAK,CAAE,EAAG,CAAC,MAAM,CAAE,EAAG,EAAE,GAAK,EACzF,EACJ,EACN,CAEd,CAAC,CAED,cAAeH,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}