{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dro1l\\\\source\\\\repos\\\\StaffWork\\\\staffwork.client\\\\src\\\\pages\\\\Account\\\\Cabinet.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\nimport { Button, ButtonGroup } from \"react-bootstrap\";\nimport { fetch_all_wares, get_orders } from \"../../redux/action_creators/ware_action_creator\";\nimport CabinetAccount from \"./CabinetAccount\";\nimport CabinetFavorite from \"./CabinetFavorite\";\nimport CabinetWares from \"./CabinetWares\";\nimport SignOutModal from \"./SignOutModal\";\nimport CabinetOrders from \"./CabinetOrders\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cabinet = () => {\n  _s();\n  var _user$permissions, _user$permissions2, _user$permissions3;\n  const user = useAppSelector(state => state.authorizationReducer.user);\n  const allWares = useAppSelector(state => state.wareReducer.allWares.wares);\n  const waresLoading = useAppSelector(state => state.wareReducer.allWares.isLoading);\n  const isLoading = useAppSelector(state => state.wareReducer);\n  const favoriteWares = useAppSelector(state => state.wareReducer.favoriteWares);\n  const [showSignOutModal, setShowSignOutModal] = useState(false);\n  const dispatch = useAppDispatch();\n  const [currentPage, setCurrentPage] = useState('account');\n  const signOutHandler = () => {\n    setShowSignOutModal(true);\n  };\n  useEffect(() => {\n    if (currentPage === 'wares') dispatch(fetch_all_wares());\n    // if (currentPage === 'favorites')\n    //     dispatch(fetch_favorite_wares())\n    if (currentPage === 'orders') dispatch(get_orders());\n  }, [currentPage]);\n  document.title = \"Account\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center display-6 mt-5\",\n        children: \"Personal Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: signOutHandler,\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"text-decoration-underline text-center\",\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignOutModal, {\n        show: showSignOutModal,\n        closeHandler: () => {\n          setShowSignOutModal(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'text-center',\n        children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setCurrentPage('account'),\n            className: `hover-white ${currentPage === 'account' ? 'opacity-75' : 'opacity-100'}`,\n            variant: \"primary\",\n            children: \"Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), user !== null && user !== void 0 && (_user$permissions = user.permissions) !== null && _user$permissions !== void 0 && _user$permissions.includes(1) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setCurrentPage('wares'),\n              className: `hover-white ${currentPage === 'wares' ? 'opacity-75' : 'opacity-100'}`,\n              variant: \"primary\",\n              children: \"Wares\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), user !== null && user !== void 0 && (_user$permissions2 = user.permissions) !== null && _user$permissions2 !== void 0 && _user$permissions2.includes(1) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setCurrentPage('orders'),\n              className: `hover-white ${currentPage === 'orders' ? 'opacity-75' : 'opacity-100'}`,\n              variant: \"primary\",\n              children: \"Orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), user !== null && user !== void 0 && (_user$permissions3 = user.permissions) !== null && _user$permissions3 !== void 0 && _user$permissions3.includes(2) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setCurrentPage('users'),\n              className: `hover-white ${currentPage === 'orders' ? 'opacity-75' : 'opacity-100'}`,\n              variant: \"primary\",\n              children: \"Orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container ${currentPage === 'account' ? 'd-block' : 'd-none'}`,\n      children: /*#__PURE__*/_jsxDEV(CabinetAccount, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container-fluid ${currentPage === 'favorites' ? 'd-block' : 'd-none'}`,\n      children: /*#__PURE__*/_jsxDEV(CabinetFavorite, {\n        favoriteWares: favoriteWares\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container-fluid ${currentPage === 'wares' ? 'd-block' : 'd-none'}`,\n      children: /*#__PURE__*/_jsxDEV(CabinetWares, {\n        allWares: allWares\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container-fluid ${currentPage === 'orders' ? 'd-block' : 'd-none'}`,\n      children: /*#__PURE__*/_jsxDEV(CabinetOrders, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Cabinet, \"7Le5qhPVNaHw0lSqVn0ej/nTdi8=\", false, function () {\n  return [useAppSelector, useAppSelector, useAppSelector, useAppSelector, useAppSelector, useAppDispatch];\n});\n_c = Cabinet;\nexport default Cabinet;\nvar _c;\n$RefreshReg$(_c, \"Cabinet\");","map":{"version":3,"names":["React","useEffect","useState","useAppDispatch","useAppSelector","Button","ButtonGroup","fetch_all_wares","get_orders","CabinetAccount","CabinetFavorite","CabinetWares","SignOutModal","CabinetOrders","Cabinet","user","state","authorizationReducer","allWares","wareReducer","wares","waresLoading","isLoading","favoriteWares","showSignOutModal","setShowSignOutModal","dispatch","currentPage","setCurrentPage","signOutHandler","document","title","cursor","permissions","includes"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Account/Cabinet.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {\r\n    CaretDown,\r\n    CaretUp, EmojiExpressionless,\r\n    Google, Heart, Heartbreak,\r\n    HeartFill,\r\n    Mailbox,\r\n    Person,\r\n    PersonBadgeFill,\r\n    PlusCircle\r\n} from \"react-bootstrap-icons\";\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {sign_out} from \"../../redux/action_creators/authorization_action_creator\";\r\nimport {Button, ButtonGroup} from \"react-bootstrap\";\r\nimport {\r\n    delete_ware,\r\n    fetch_all_wares,\r\n    fetch_discount_wares,\r\n    fetch_discount_wares_authorized, fetch_favorite_wares, get_orders, remove_from_favorite\r\n} from \"../../redux/action_creators/ware_action_creator\";\r\nimport {Link} from \"react-router-dom\";\r\nimport CabinetAccount from \"./CabinetAccount\";\r\nimport CabinetFavorite from \"./CabinetFavorite\";\r\nimport CabinetWares from \"./CabinetWares\";\r\nimport SignOutModal from \"./SignOutModal\";\r\nimport CabinetOrders from \"./CabinetOrders\";\r\nimport Loading from \"../Layout/Loading\";\r\n\r\nconst Cabinet = () => {\r\n    const user = useAppSelector(state => state.authorizationReducer.user)\r\n    const allWares = useAppSelector(state => state.wareReducer.allWares.wares)\r\n    const waresLoading = useAppSelector(state => state.wareReducer.allWares.isLoading)\r\n    const isLoading = useAppSelector(state => state.wareReducer)\r\n    const favoriteWares = useAppSelector(state => state.wareReducer.favoriteWares)\r\n    const [showSignOutModal, setShowSignOutModal] = useState(false)\r\n\r\n    const dispatch = useAppDispatch()\r\n    const [currentPage, setCurrentPage] = useState('account')\r\n    const signOutHandler = () => {\r\n        setShowSignOutModal(true)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (currentPage === 'wares')\r\n            dispatch(fetch_all_wares())\r\n        // if (currentPage === 'favorites')\r\n        //     dispatch(fetch_favorite_wares())\r\n        if (currentPage === 'orders')\r\n            dispatch(get_orders())\r\n    }, [currentPage])\r\n    document.title = \"Account\"\r\n    return (\r\n        <>\r\n            <div className={\"container\"}>\r\n                <h2 className={\"text-center display-6 mt-5\"}>Personal Account</h2>\r\n                <p onClick={signOutHandler} style={{cursor: 'pointer'}}\r\n                   className={\"text-decoration-underline text-center\"}>Sign Out</p>\r\n                <SignOutModal show={showSignOutModal} closeHandler={() => {setShowSignOutModal(false)}}/>\r\n            </div>\r\n            <div className={\"container\"}>\r\n                <div className={'text-center'}>\r\n                    <ButtonGroup>\r\n                        <Button onClick={() => setCurrentPage('account')}\r\n                                className={`hover-white ${currentPage === 'account' ? 'opacity-75' : 'opacity-100'}`}\r\n                                variant=\"primary\">Account</Button>\r\n                        {/*<Button onClick={() => setCurrentPage('cart')}*/}\r\n                        {/*        className={`hover-white ${currentPage === 'cart' ? 'opacity-75' : 'opacity-100'}`}*/}\r\n                        {/*        variant=\"primary\">Cart</Button>*/}\r\n                        {/*<Button onClick={() => setCurrentPage('favorites')}*/}\r\n                        {/*        className={`hover-white ${currentPage === 'favorites' ? 'opacity-75' : 'opacity-100'}`}*/}\r\n                        {/*        variant=\"primary\">Favorites</Button>*/}\r\n                        {user?.permissions?.includes(1) ? <>\r\n                            <Button onClick={() => setCurrentPage('wares')}\r\n                                    className={`hover-white ${currentPage === 'wares' ? 'opacity-75' : 'opacity-100'}`}\r\n                                    variant=\"primary\">Wares</Button>\r\n                        </> : <></>}\r\n                        {user?.permissions?.includes(1) ? <>\r\n                            <Button onClick={() => setCurrentPage('orders')}\r\n                                    className={`hover-white ${currentPage === 'orders' ? 'opacity-75' : 'opacity-100'}`}\r\n                                    variant=\"primary\">Orders</Button>\r\n                        </> : <></>}\r\n                        {user?.permissions?.includes(2) ? <>\r\n                            <Button onClick={() => setCurrentPage('users')}\r\n                                    className={`hover-white ${currentPage === 'orders' ? 'opacity-75' : 'opacity-100'}`}\r\n                                    variant=\"primary\">Orders</Button>\r\n                        </> : <></>}\r\n                    </ButtonGroup>\r\n                </div>\r\n            </div>\r\n            <div className={`container ${currentPage === 'account' ? 'd-block' : 'd-none'}`}>\r\n                <CabinetAccount user={user}/>\r\n            </div>\r\n            <div className={`container-fluid ${currentPage === 'favorites' ? 'd-block' : 'd-none'}`}>\r\n                <CabinetFavorite favoriteWares={favoriteWares}/>\r\n            </div>\r\n            <div className={`container-fluid ${currentPage === 'wares' ? 'd-block' : 'd-none'}`}>\r\n                <CabinetWares allWares={allWares}/>\r\n            </div>\r\n            <div className={`container-fluid ${currentPage === 'orders' ? 'd-block' : 'd-none'}`}>\r\n                <CabinetOrders/>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Cabinet;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}