{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{Route,Routes}from\"react-router-dom\";import Welcome from\"./pages/Welcome/Welcome\";import PageNotFound from\"./pages/PageNotFound/PageNotFound\";import Header from\"./pages/Layout/Header\";import{useAppDispatch,useAppSelector}from\"./hooks/redux\";import Cabinet from\"./pages/Cabinet/Cabinet\";import LoginPage from\"./pages/SignIn/Login\";import RegistrationPage from\"./pages/SignIn/Registration\";import{refresh_token}from\"./redux/action_creators/authorization_action_creator\";import Discounts from\"./pages/Discounts/Discounts\";import Novelty from\"./pages/Novelty/Novelty\";import WarePage from\"./pages/WarePage/WarePage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.authorizationReducer;}),isAuthorized=_useAppSelector.isAuthorized;var scrlBtn=useRef(null);useEffect(function(){dispatch(refresh_token());window.addEventListener('scroll',function(){var scrollY=window.scrollY||document.documentElement.scrollTop;scrollY>400?showScrlHandler():hideScrlHandler();});scrlBtn.current.addEventListener('click',function(){window.scrollTo({top:0,left:0,behavior:'smooth'});});},[]);var showScrlHandler=function showScrlHandler(){scrlBtn.current.classList.remove(\"btn-up_hide\");};var hideScrlHandler=function hideScrlHandler(){scrlBtn.current.classList.add(\"btn-up_hide\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{ref:scrlBtn,className:\"btn-up btn-up_hide\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Welcome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Cabinet\",element:isAuthorized?/*#__PURE__*/_jsx(Cabinet,{}):/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Discounts\",element:/*#__PURE__*/_jsx(Discounts,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Wares/:id\",element:/*#__PURE__*/_jsx(WarePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Novelty\",element:/*#__PURE__*/_jsx(Novelty,{})}),/*#__PURE__*/_jsx(Route,{path:\"/SignIn\",element:isAuthorized?/*#__PURE__*/_jsx(Cabinet,{}):/*#__PURE__*/_jsx(RegistrationPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(PageNotFound,{})})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useRef","Route","Routes","Welcome","PageNotFound","Header","useAppDispatch","useAppSelector","Cabinet","LoginPage","RegistrationPage","refresh_token","Discounts","Novelty","WarePage","App","dispatch","state","authorizationReducer","isAuthorized","scrlBtn","window","addEventListener","scrollY","document","documentElement","scrollTop","showScrlHandler","hideScrlHandler","current","scrollTo","top","left","behavior","classList","remove","add"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/App.tsx"],"sourcesContent":["import React, {useEffect, useRef} from 'react';\nimport {Route, Routes} from \"react-router-dom\";\nimport Welcome from \"./pages/Welcome/Welcome\";\nimport PageNotFound from \"./pages/PageNotFound/PageNotFound\";\nimport Header from \"./pages/Layout/Header\";\nimport {useAppDispatch, useAppSelector} from \"./hooks/redux\";\nimport Cabinet from \"./pages/Cabinet/Cabinet\";\nimport LoginPage from \"./pages/SignIn/Login\";\nimport RegistrationPage from \"./pages/SignIn/Registration\";\nimport {refresh_token} from \"./redux/action_creators/authorization_action_creator\";\nimport Discounts from \"./pages/Discounts/Discounts\";\nimport Novelty from \"./pages/Novelty/Novelty\";\nimport WarePage from \"./pages/WarePage/WarePage\";\n\nfunction App() {\n    const dispatch = useAppDispatch()\n    const {isAuthorized} = useAppSelector(state => state.authorizationReducer)\n    const scrlBtn = useRef<HTMLDivElement>(null)\n\n    useEffect(() => {\n        dispatch(refresh_token())\n        window.addEventListener('scroll', () => {\n            const scrollY = window.scrollY || document.documentElement.scrollTop;\n            scrollY > 400 ? showScrlHandler() : hideScrlHandler()\n        });\n        scrlBtn.current!.addEventListener('click', () => {\n            window.scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        })\n    }, [ ])\n\n    const showScrlHandler = () => {\n        scrlBtn.current!.classList.remove(\"btn-up_hide\")\n    }\n    const hideScrlHandler = () => {\n        scrlBtn.current!.classList.add(\"btn-up_hide\")\n    }\n    return (\n        <>\n            <Header/>\n            <div ref={scrlBtn} className=\"btn-up btn-up_hide\"></div>\n            <Routes>\n                <Route path={\"/\"} element={<Welcome/>}/>\n                <Route path={\"/Cabinet\"} element={isAuthorized ? <Cabinet/> : <LoginPage/>}/>\n                <Route path={\"/Discounts\"} element={<Discounts/>}/>\n                <Route path={\"/Wares/:id\"} element={<WarePage/>}/>\n                <Route path={\"/Novelty\"} element={<Novelty/>}/>\n                <Route path={\"/SignIn\"} element={isAuthorized ? <Cabinet/> : <RegistrationPage/>}/>\n                <Route path={\"*\"} element={<PageNotFound/>}/>\n            </Routes>\n        </>\n    );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAGC,SAAS,CAAEC,MAAM,KAAO,OAAO,CAC9C,OAAQC,KAAK,CAAEC,MAAM,KAAO,kBAAkB,CAC9C,MAAOC,QAAO,KAAM,yBAAyB,CAC7C,MAAOC,aAAY,KAAM,mCAAmC,CAC5D,MAAOC,OAAM,KAAM,uBAAuB,CAC1C,OAAQC,cAAc,CAAEC,cAAc,KAAO,eAAe,CAC5D,MAAOC,QAAO,KAAM,yBAAyB,CAC7C,MAAOC,UAAS,KAAM,sBAAsB,CAC5C,MAAOC,iBAAgB,KAAM,6BAA6B,CAC1D,OAAQC,aAAa,KAAO,sDAAsD,CAClF,MAAOC,UAAS,KAAM,6BAA6B,CACnD,MAAOC,QAAO,KAAM,yBAAyB,CAC7C,MAAOC,SAAQ,KAAM,2BAA2B,CAAC,6IAEjD,QAASC,IAAG,EAAG,CACX,GAAMC,SAAQ,CAAGV,cAAc,EAAE,CACjC,oBAAuBC,cAAc,CAAC,SAAAU,KAAK,QAAIA,MAAK,CAACC,oBAAoB,GAAC,CAAnEC,YAAY,iBAAZA,YAAY,CACnB,GAAMC,QAAO,CAAGpB,MAAM,CAAiB,IAAI,CAAC,CAE5CD,SAAS,CAAC,UAAM,CACZiB,QAAQ,CAACL,aAAa,EAAE,CAAC,CACzBU,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAE,UAAM,CACpC,GAAMC,QAAO,CAAGF,MAAM,CAACE,OAAO,EAAIC,QAAQ,CAACC,eAAe,CAACC,SAAS,CACpEH,OAAO,CAAG,GAAG,CAAGI,eAAe,EAAE,CAAGC,eAAe,EAAE,CACzD,CAAC,CAAC,CACFR,OAAO,CAACS,OAAO,CAAEP,gBAAgB,CAAC,OAAO,CAAE,UAAM,CAC7CD,MAAM,CAACS,QAAQ,CAAC,CACZC,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAAC,CACPC,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CAAC,CAAE,EAAG,CAAC,CAEP,GAAMN,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC1BP,OAAO,CAACS,OAAO,CAAEK,SAAS,CAACC,MAAM,CAAC,aAAa,CAAC,CACpD,CAAC,CACD,GAAMP,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC1BR,OAAO,CAACS,OAAO,CAAEK,SAAS,CAACE,GAAG,CAAC,aAAa,CAAC,CACjD,CAAC,CACD,mBACI,wCACI,KAAC,MAAM,IAAE,cACT,YAAK,GAAG,CAAEhB,OAAQ,CAAC,SAAS,CAAC,oBAAoB,EAAO,cACxD,MAAC,MAAM,yBACH,KAAC,KAAK,EAAC,IAAI,CAAE,GAAI,CAAC,OAAO,cAAE,KAAC,OAAO,IAAG,EAAE,cACxC,KAAC,KAAK,EAAC,IAAI,CAAE,UAAW,CAAC,OAAO,CAAED,YAAY,cAAG,KAAC,OAAO,IAAE,cAAG,KAAC,SAAS,IAAG,EAAE,cAC7E,KAAC,KAAK,EAAC,IAAI,CAAE,YAAa,CAAC,OAAO,cAAE,KAAC,SAAS,IAAG,EAAE,cACnD,KAAC,KAAK,EAAC,IAAI,CAAE,YAAa,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAG,EAAE,cAClD,KAAC,KAAK,EAAC,IAAI,CAAE,UAAW,CAAC,OAAO,cAAE,KAAC,OAAO,IAAG,EAAE,cAC/C,KAAC,KAAK,EAAC,IAAI,CAAE,SAAU,CAAC,OAAO,CAAEA,YAAY,cAAG,KAAC,OAAO,IAAE,cAAG,KAAC,gBAAgB,IAAG,EAAE,cACnF,KAAC,KAAK,EAAC,IAAI,CAAE,GAAI,CAAC,OAAO,cAAE,KAAC,YAAY,IAAG,EAAE,GACxC,GACV,CAEX,CAEA,cAAeJ,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}