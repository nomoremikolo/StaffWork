{"ast":null,"code":"import { ShaderNode, add, sub, mul, div, pow2, max, sqrt, EPSILON } from '../../shadernode/ShaderNodeBaseElements.js';\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nconst V_GGX_SmithCorrelated = new ShaderNode(inputs => {\n  const {\n    alpha,\n    dotNL,\n    dotNV\n  } = inputs;\n  const a2 = pow2(alpha);\n  const gv = mul(dotNL, sqrt(add(a2, mul(sub(1.0, a2), pow2(dotNV)))));\n  const gl = mul(dotNV, sqrt(add(a2, mul(sub(1.0, a2), pow2(dotNL)))));\n  return div(0.5, max(add(gv, gl), EPSILON));\n}); // validated\n\nexport default V_GGX_SmithCorrelated;","map":{"version":3,"names":["ShaderNode","add","sub","mul","div","pow2","max","sqrt","EPSILON","V_GGX_SmithCorrelated","inputs","alpha","dotNL","dotNV","a2","gv","gl"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/examples/jsm/nodes/functions/BSDF/V_GGX_SmithCorrelated.js"],"sourcesContent":["import { ShaderNode, add, sub, mul, div, pow2, max, sqrt, EPSILON } from '../../shadernode/ShaderNodeBaseElements.js';\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nconst V_GGX_SmithCorrelated = new ShaderNode( ( inputs ) => {\n\n\tconst { alpha, dotNL, dotNV } = inputs;\n\n\tconst a2 = pow2( alpha );\n\n\tconst gv = mul( dotNL, sqrt( add( a2, mul( sub( 1.0, a2 ), pow2( dotNV ) ) ) ) );\n\tconst gl = mul( dotNV, sqrt( add( a2, mul( sub( 1.0, a2 ), pow2( dotNL ) ) ) ) );\n\n\treturn div( 0.5, max( add( gv, gl ), EPSILON ) );\n\n} ); // validated\n\nexport default V_GGX_SmithCorrelated;\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAG,EAAEC,IAAI,EAAEC,OAAO,QAAQ,4CAA4C;;AAErH;AACA;AACA,MAAMC,qBAAqB,GAAG,IAAIT,UAAU,CAAIU,MAAM,IAAM;EAE3D,MAAM;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAM,CAAC,GAAGH,MAAM;EAEtC,MAAMI,EAAE,GAAGT,IAAI,CAAEM,KAAK,CAAE;EAExB,MAAMI,EAAE,GAAGZ,GAAG,CAAES,KAAK,EAAEL,IAAI,CAAEN,GAAG,CAAEa,EAAE,EAAEX,GAAG,CAAED,GAAG,CAAE,GAAG,EAAEY,EAAE,CAAE,EAAET,IAAI,CAAEQ,KAAK,CAAE,CAAE,CAAE,CAAE,CAAE;EAChF,MAAMG,EAAE,GAAGb,GAAG,CAAEU,KAAK,EAAEN,IAAI,CAAEN,GAAG,CAAEa,EAAE,EAAEX,GAAG,CAAED,GAAG,CAAE,GAAG,EAAEY,EAAE,CAAE,EAAET,IAAI,CAAEO,KAAK,CAAE,CAAE,CAAE,CAAE,CAAE;EAEhF,OAAOR,GAAG,CAAE,GAAG,EAAEE,GAAG,CAAEL,GAAG,CAAEc,EAAE,EAAEC,EAAE,CAAE,EAAER,OAAO,CAAE,CAAE;AAEjD,CAAC,CAAE,CAAC,CAAC;;AAEL,eAAeC,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}