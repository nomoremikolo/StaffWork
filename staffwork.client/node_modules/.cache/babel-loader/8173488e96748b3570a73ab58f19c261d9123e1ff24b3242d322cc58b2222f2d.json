{"ast":null,"code":"class AudioAnalyser {\n  constructor(audio) {\n    let fftSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2048;\n    this.analyser = audio.context.createAnalyser();\n    this.analyser.fftSize = fftSize;\n    this.data = new Uint8Array(this.analyser.frequencyBinCount);\n    audio.getOutput().connect(this.analyser);\n  }\n  getFrequencyData() {\n    this.analyser.getByteFrequencyData(this.data);\n    return this.data;\n  }\n  getAverageFrequency() {\n    let value = 0;\n    const data = this.getFrequencyData();\n    for (let i = 0; i < data.length; i++) {\n      value += data[i];\n    }\n    return value / data.length;\n  }\n}\nexport { AudioAnalyser };","map":{"version":3,"names":["AudioAnalyser","constructor","audio","fftSize","analyser","context","createAnalyser","data","Uint8Array","frequencyBinCount","getOutput","connect","getFrequencyData","getByteFrequencyData","getAverageFrequency","value","i","length"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/src/audio/AudioAnalyser.js"],"sourcesContent":["class AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nexport { AudioAnalyser };\n"],"mappings":"AAAA,MAAMA,aAAa,CAAC;EAEnBC,WAAW,CAAEC,KAAK,EAAmB;IAAA,IAAjBC,OAAO,uEAAG,IAAI;IAEjC,IAAI,CAACC,QAAQ,GAAGF,KAAK,CAACG,OAAO,CAACC,cAAc,EAAE;IAC9C,IAAI,CAACF,QAAQ,CAACD,OAAO,GAAGA,OAAO;IAE/B,IAAI,CAACI,IAAI,GAAG,IAAIC,UAAU,CAAE,IAAI,CAACJ,QAAQ,CAACK,iBAAiB,CAAE;IAE7DP,KAAK,CAACQ,SAAS,EAAE,CAACC,OAAO,CAAE,IAAI,CAACP,QAAQ,CAAE;EAE3C;EAGAQ,gBAAgB,GAAG;IAElB,IAAI,CAACR,QAAQ,CAACS,oBAAoB,CAAE,IAAI,CAACN,IAAI,CAAE;IAE/C,OAAO,IAAI,CAACA,IAAI;EAEjB;EAEAO,mBAAmB,GAAG;IAErB,IAAIC,KAAK,GAAG,CAAC;IACb,MAAMR,IAAI,GAAG,IAAI,CAACK,gBAAgB,EAAE;IAEpC,KAAM,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,IAAI,CAACU,MAAM,EAAED,CAAC,EAAG,EAAG;MAExCD,KAAK,IAAIR,IAAI,CAAES,CAAC,CAAE;IAEnB;IAEA,OAAOD,KAAK,GAAGR,IAAI,CAACU,MAAM;EAE3B;AAED;AAEA,SAASjB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}