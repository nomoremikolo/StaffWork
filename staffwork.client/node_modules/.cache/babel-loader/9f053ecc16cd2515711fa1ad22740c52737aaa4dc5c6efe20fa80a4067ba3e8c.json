{"ast":null,"code":"import React,{useEffect}from'react';import{useAppDispatch,useAppSelector}from\"../../hooks/redux\";import{fetch_all_users}from\"../../redux/action_creators/users_action_creator\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CabinetUsers=function CabinetUsers(){var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.UsersReducer.allUsers;}),users=_useAppSelector.users,isLoading=_useAppSelector.isLoading,errors=_useAppSelector.errors;useEffect(function(){dispatch(fetch_all_users());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:'container-fluid mt-5',children:[/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex input-group-sm mt-3\",role:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control py-0\",type:\"search\",placeholder:\"Search by name\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var _value;dispatch(fetch_all_users((_value=e.currentTarget.previousElementSibling.value)!==null&&_value!==void 0?_value:null));e.preventDefault();},className:\"btn btn-outline-success\",type:\"submit\",children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){dispatch(fetch_all_users());e.preventDefault();e.currentTarget.previousElementSibling.previousElementSibling.value=\"\";},className:'btn btn-outline-primary',children:\"Reset\"})]}),/*#__PURE__*/_jsx(\"div\",{className:'table-responsive',children:/*#__PURE__*/_jsxs(\"table\",{className:'table',children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nickname\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Surname\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Adress\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Permissions\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Control\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.username}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.surname}),/*#__PURE__*/_jsx(\"td\",{children:item.email}),/*#__PURE__*/_jsx(\"td\",{children:item.adress}),/*#__PURE__*/_jsx(\"td\",{children:item.role}),/*#__PURE__*/_jsx(\"td\",{children:item.permissions.join(\" \")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/EditUser/\".concat(item.id),className:'btn btn-success py-0',children:\"EDIT\"})})]});})})]})})]});};export default CabinetUsers;","map":{"version":3,"names":["React","useEffect","useAppDispatch","useAppSelector","fetch_all_users","Link","CabinetUsers","dispatch","state","UsersReducer","allUsers","users","isLoading","errors","e","currentTarget","previousElementSibling","value","preventDefault","map","item","username","name","surname","email","adress","role","permissions","join","id"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Account/CabinetUsers.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {fetch_all_users} from \"../../redux/action_creators/users_action_creator\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {fetch_all_wares} from \"../../redux/action_creators/ware_action_creator\";\r\n\r\nconst CabinetUsers = () => {\r\n    const dispatch = useAppDispatch()\r\n    const {users, isLoading, errors} = useAppSelector(state => state.UsersReducer.allUsers)\r\n\r\n    useEffect(() => {\r\n        dispatch(fetch_all_users())\r\n    }, [ ])\r\n    return (\r\n        <div className={'container-fluid mt-5'}>\r\n            <form className=\"d-flex input-group-sm mt-3\" role=\"search\">\r\n                <input className=\"form-control py-0\" type=\"search\" placeholder=\"Search by name\"/>\r\n                <button onClick={(e: any) => {\r\n                    dispatch(fetch_all_users(e.currentTarget.previousElementSibling!.value ?? null));\r\n                    e.preventDefault()\r\n                }} className=\"btn btn-outline-success\" type=\"submit\">Search\r\n                </button>\r\n                <button onClick={(e:any) => {dispatch(fetch_all_users());e.preventDefault();e.currentTarget.previousElementSibling!.previousElementSibling!.value = \"\"}} className={'btn btn-outline-primary'}>Reset</button>\r\n            </form>\r\n            <div className={'table-responsive'}>\r\n                <table className={'table'}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>\r\n                                Nickname\r\n                            </th>\r\n                            <th>\r\n                                Name\r\n                            </th>\r\n                            <th>\r\n                                Surname\r\n                            </th>\r\n                            <th>\r\n                                Email\r\n                            </th>\r\n                            <th>\r\n                                Adress\r\n                            </th>\r\n                            <th>\r\n                                Role\r\n                            </th>\r\n                            <th>\r\n                                Permissions\r\n                            </th>\r\n                            <th>\r\n                                Control\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map(item => (\r\n                            <tr>\r\n                                <td>{item.username}</td>\r\n                                <td>{item.name}</td>\r\n                                <td>{item.surname}</td>\r\n                                <td>{item.email}</td>\r\n                                <td>{item.adress}</td>\r\n                                <td>{item.role}</td>\r\n                                <td>{item.permissions.join(\" \")}</td>\r\n                                <td>\r\n                                    <Link to={`/EditUser/${item.id}`} className={'btn btn-success py-0'}>\r\n                                        EDIT\r\n                                    </Link>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CabinetUsers;"],"mappings":"AAAA,MAAOA,MAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,OAAQC,cAAc,CAAEC,cAAc,KAAO,mBAAmB,CAChE,OAAQC,eAAe,KAAO,kDAAkD,CAChF,OAAQC,IAAI,KAAO,kBAAkB,CAAC,wFAGtC,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB,GAAMC,SAAQ,CAAGL,cAAc,EAAE,CACjC,oBAAmCC,cAAc,CAAC,SAAAK,KAAK,QAAIA,MAAK,CAACC,YAAY,CAACC,QAAQ,GAAC,CAAhFC,KAAK,iBAALA,KAAK,CAAEC,SAAS,iBAATA,SAAS,CAAEC,MAAM,iBAANA,MAAM,CAE/BZ,SAAS,CAAC,UAAM,CACZM,QAAQ,CAACH,eAAe,EAAE,CAAC,CAC/B,CAAC,CAAE,EAAG,CAAC,CACP,mBACI,aAAK,SAAS,CAAE,sBAAuB,wBACnC,cAAM,SAAS,CAAC,4BAA4B,CAAC,IAAI,CAAC,QAAQ,wBACtD,cAAO,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,cACjF,eAAQ,OAAO,CAAE,iBAACU,CAAM,CAAK,YACzBP,QAAQ,CAACH,eAAe,SAACU,CAAC,CAACC,aAAa,CAACC,sBAAsB,CAAEC,KAAK,iCAAI,IAAI,CAAC,CAAC,CAChFH,CAAC,CAACI,cAAc,EAAE,CACtB,CAAE,CAAC,SAAS,CAAC,yBAAyB,CAAC,IAAI,CAAC,QAAQ,oBAC3C,cACT,eAAQ,OAAO,CAAE,iBAACJ,CAAK,CAAK,CAACP,QAAQ,CAACH,eAAe,EAAE,CAAC,CAACU,CAAC,CAACI,cAAc,EAAE,CAACJ,CAAC,CAACC,aAAa,CAACC,sBAAsB,CAAEA,sBAAsB,CAAEC,KAAK,CAAG,EAAE,EAAE,CAAC,SAAS,CAAE,yBAA0B,mBAAe,GAC1M,cACP,YAAK,SAAS,CAAE,kBAAmB,uBAC/B,eAAO,SAAS,CAAE,OAAQ,wBACtB,oCACI,mCACI,gCAEK,cACL,4BAEK,cACL,+BAEK,cACL,6BAEK,cACL,8BAEK,cACL,4BAEK,cACL,mCAEK,cACL,+BAEK,GACJ,EACD,cACR,uBACKN,KAAK,CAACQ,GAAG,CAAC,SAAAC,IAAI,qBACX,mCACI,oBAAKA,IAAI,CAACC,QAAQ,EAAM,cACxB,oBAAKD,IAAI,CAACE,IAAI,EAAM,cACpB,oBAAKF,IAAI,CAACG,OAAO,EAAM,cACvB,oBAAKH,IAAI,CAACI,KAAK,EAAM,cACrB,oBAAKJ,IAAI,CAACK,MAAM,EAAM,cACtB,oBAAKL,IAAI,CAACM,IAAI,EAAM,cACpB,oBAAKN,IAAI,CAACO,WAAW,CAACC,IAAI,CAAC,GAAG,CAAC,EAAM,cACrC,iCACI,KAAC,IAAI,EAAC,EAAE,qBAAeR,IAAI,CAACS,EAAE,CAAG,CAAC,SAAS,CAAE,sBAAuB,kBAE7D,EACN,GACJ,EACR,CAAC,EACE,GACJ,EACN,GACJ,CAEd,CAAC,CAED,cAAevB,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}