{"ast":null,"code":"import React,{useEffect}from'react';import{Route,Routes}from\"react-router-dom\";import Welcome from\"./pages/Welcome/Welcome\";import PageNotFound from\"./pages/PageNotFound/PageNotFound\";import Header from\"./pages/Layout/Header\";import{useAppDispatch,useAppSelector}from\"./hooks/redux\";import Cabinet from\"./pages/Account/Cabinet\";import LoginPage from\"./pages/SignIn/Login\";import RegistrationPage from\"./pages/SignIn/Registration\";import{refresh_token}from\"./redux/action_creators/authorization_action_creator\";import Discounts from\"./pages/Discounts/Discounts\";import Novelty from\"./pages/Novelty/Novelty\";import WarePage from\"./pages/WarePage/WarePage\";import NewWare from\"./pages/NewWare/NewWare\";import NewCategory from\"./pages/NewCategory/NewCategory\";import NewBrand from\"./pages/NewBrand/NewBrand\";import EditWare from\"./pages/EditWare/EditWare\";import CabinetUserEdit from\"./pages/Account/CabinetUserEdit\";import ScrollBtn from\"./components/ScrollBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.authorizationReducer;}),isAuthorized=_useAppSelector.isAuthorized,user=_useAppSelector.user;useEffect(function(){dispatch(refresh_token());},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(ScrollBtn,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Welcome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Account\",element:isAuthorized?/*#__PURE__*/_jsx(Cabinet,{}):/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Discounts\",element:/*#__PURE__*/_jsx(Discounts,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Wares/:id\",element:/*#__PURE__*/_jsx(WarePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Novelty\",element:/*#__PURE__*/_jsx(Novelty,{})}),/*#__PURE__*/_jsx(Route,{path:\"/SignIn\",element:isAuthorized?/*#__PURE__*/_jsx(Cabinet,{}):/*#__PURE__*/_jsx(RegistrationPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(PageNotFound,{})}),!isAuthorized?/*#__PURE__*/_jsx(_Fragment,{}):user!==null&&user!==void 0&&user.permissions.includes(2)?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Route,{path:\"/NewWare\",element:/*#__PURE__*/_jsx(NewWare,{})})}):/*#__PURE__*/_jsx(_Fragment,{}),!isAuthorized?/*#__PURE__*/_jsx(_Fragment,{}):user!==null&&user!==void 0&&user.permissions.includes(1)?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Route,{path:\"/EditWare/:id\",element:/*#__PURE__*/_jsx(EditWare,{})})}):/*#__PURE__*/_jsx(_Fragment,{}),!isAuthorized?/*#__PURE__*/_jsx(_Fragment,{}):user!==null&&user!==void 0&&user.permissions.includes(1)?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Route,{path:\"/NewCategory\",element:/*#__PURE__*/_jsx(NewCategory,{})})}):/*#__PURE__*/_jsx(_Fragment,{}),!isAuthorized?/*#__PURE__*/_jsx(_Fragment,{}):user!==null&&user!==void 0&&user.permissions.includes(1)?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Route,{path:\"/NewBrand\",element:/*#__PURE__*/_jsx(NewBrand,{})})}):/*#__PURE__*/_jsx(_Fragment,{}),!isAuthorized?/*#__PURE__*/_jsx(_Fragment,{}):user!==null&&user!==void 0&&user.permissions.includes(3)?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Route,{path:\"/EditUser/:id\",element:/*#__PURE__*/_jsx(CabinetUserEdit,{})})}):/*#__PURE__*/_jsx(_Fragment,{})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","Route","Routes","Welcome","PageNotFound","Header","useAppDispatch","useAppSelector","Cabinet","LoginPage","RegistrationPage","refresh_token","Discounts","Novelty","WarePage","NewWare","NewCategory","NewBrand","EditWare","CabinetUserEdit","ScrollBtn","App","dispatch","state","authorizationReducer","isAuthorized","user","permissions","includes"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/App.tsx"],"sourcesContent":["import React, {useEffect, useRef} from 'react';\nimport {Route, Routes} from \"react-router-dom\";\nimport Welcome from \"./pages/Welcome/Welcome\";\nimport PageNotFound from \"./pages/PageNotFound/PageNotFound\";\nimport Header from \"./pages/Layout/Header\";\nimport {useAppDispatch, useAppSelector} from \"./hooks/redux\";\nimport Cabinet from \"./pages/Account/Cabinet\";\nimport LoginPage from \"./pages/SignIn/Login\";\nimport RegistrationPage from \"./pages/SignIn/Registration\";\nimport {refresh_token} from \"./redux/action_creators/authorization_action_creator\";\nimport Discounts from \"./pages/Discounts/Discounts\";\nimport Novelty from \"./pages/Novelty/Novelty\";\nimport WarePage from \"./pages/WarePage/WarePage\";\nimport NewWare from \"./pages/NewWare/NewWare\";\nimport NewCategory from \"./pages/NewCategory/NewCategory\";\nimport NewBrand from \"./pages/NewBrand/NewBrand\";\nimport EditWare from \"./pages/EditWare/EditWare\";\nimport CabinetUserEdit from \"./pages/Account/CabinetUserEdit\";\nimport ScrollBtn from \"./components/ScrollBtn\";\n\nfunction App() {\n    const dispatch = useAppDispatch()\n    const {isAuthorized, user} = useAppSelector(state => state.authorizationReducer)\n\n\n    useEffect(() => {\n        dispatch(refresh_token())\n    }, [ ])\n\n    return (\n        <>\n            <Header/>\n            <ScrollBtn/>\n            <Routes>\n                <Route path={\"/\"} element={<Welcome/>}/>\n                <Route path={\"/Account\"} element={isAuthorized ? <Cabinet/> : <LoginPage/>}/>\n                <Route path={\"/Discounts\"} element={<Discounts/>}/>\n                <Route path={\"/Wares/:id\"} element={<WarePage/>}/>\n                <Route path={\"/Novelty\"} element={<Novelty/>}/>\n                <Route path={\"/SignIn\"} element={isAuthorized ? <Cabinet/> : <RegistrationPage/>}/>\n                <Route path={\"*\"} element={<PageNotFound/>}/>\n                {!isAuthorized ? <></> : user?.permissions.includes(2) ?\n                <>\n                    <Route path={\"/NewWare\"} element={<NewWare/>}/>\n                </> : <></>}\n                {!isAuthorized ? <></> : user?.permissions.includes(1) ?\n                <>\n                    <Route path={\"/EditWare/:id\"} element={<EditWare/>}/>\n                </> : <></>}\n                {!isAuthorized ? <></> : user?.permissions.includes(1) ?\n                <>\n                    <Route path={\"/NewCategory\"} element={<NewCategory/>}/>\n                </> : <></>}\n                {!isAuthorized ? <></> : user?.permissions.includes(1) ?\n                <>\n                    <Route path={\"/NewBrand\"} element={<NewBrand/>}/>\n                </> : <></>}\n                {!isAuthorized ? <></> : user?.permissions.includes(3) ?\n                <>\n                    <Route path={\"/EditUser/:id\"} element={<CabinetUserEdit/>}/>\n                </> : <></>}\n\n            </Routes>\n        </>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}