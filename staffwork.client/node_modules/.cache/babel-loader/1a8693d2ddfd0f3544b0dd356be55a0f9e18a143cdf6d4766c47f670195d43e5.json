{"ast":null,"code":"import React,{useEffect}from'react';import{Modal}from\"react-bootstrap\";import{useAppDispatch,useAppSelector}from\"../../hooks/redux\";import{Heartbreak}from\"react-bootstrap-icons\";import ReactDOM from'react-dom';import{fetch_favorite_wares}from\"../../redux/action_creators/ware_action_creator\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FavoriteWaresModal=function FavoriteWaresModal(_ref){var show=_ref.show,closeHandler=_ref.closeHandler;var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.authorizationReducer;}),isAuthorized=_useAppSelector.isAuthorized;var _useAppSelector2=useAppSelector(function(state){return state.wareReducer;}),favoriteWares=_useAppSelector2.favoriteWares;useEffect(function(){dispatch(fetch_favorite_wares());},[]);useEffect(function(){dispatch(fetch_favorite_wares());},[show]);if(!show)return null;return/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxs(Modal,{show:show,onHide:closeHandler,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Favorite wares\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:!isAuthorized?/*#__PURE__*/_jsxs(\"h3\",{className:'text-center my-4',children:[\"\\u0412\\u0438 \\u043D\\u0435 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u043D\\u0456 \",/*#__PURE__*/_jsx(Heartbreak,{className:'mb-1'})]}):/*#__PURE__*/_jsx(_Fragment,{children:favoriteWares.length>0?favoriteWares.map(function(item){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card w-75 mx-auto mb-3\",children:[/*#__PURE__*/_jsx(\"img\",{style:{\"width\":\"80%\",\"margin\":\"auto\"},src:\"https://www.staff-clothes.com/_next/image/?url=https%3A%2F%2Fstatic.staff-clothes.com%2Fmedia%2Fcache%2Fimage_product_desktop_catalog%2Fimage_product%2F0002%2F73%2Fe3b0187358014ffeadec729c7f0beebf.jpeg&w=1920&q=75\",className:\"card-img-top\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:item.sizes}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[item.price,\" \\u0433\\u0440\\u043D.\"]}),item.isDiscount?/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:/*#__PURE__*/_jsxs(\"del\",{children:[item.oldPrice,\" \\u0433\\u0440\\u043D.\"]})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(Link,{onClick:closeHandler,to:\"/Wares/\".concat(item.wareId),className:\"btn btn-primary\",children:\"More\"})]})]})});}):/*#__PURE__*/_jsx(\"p\",{children:\"Oops, it's empty\"})})})]}),document.getElementById('root'));};export default FavoriteWaresModal;","map":{"version":3,"names":["React","useEffect","Modal","useAppDispatch","useAppSelector","Heartbreak","ReactDOM","fetch_favorite_wares","Link","FavoriteWaresModal","show","closeHandler","dispatch","state","authorizationReducer","isAuthorized","wareReducer","favoriteWares","createPortal","length","map","item","name","sizes","price","isDiscount","oldPrice","wareId","document","getElementById"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Layout/FavoriteWaresModal.tsx"],"sourcesContent":["import React, {FC, useEffect} from 'react';\r\nimport {Modal} from \"react-bootstrap\";\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {Heartbreak} from \"react-bootstrap-icons\";\r\nimport ReactDOM from 'react-dom'\r\nimport {fetch_favorite_wares} from \"../../redux/action_creators/ware_action_creator\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\ninterface IFavoriteWares {\r\n    show: boolean,\r\n    closeHandler: () => void,\r\n}\r\n\r\nconst FavoriteWaresModal: FC<IFavoriteWares> = ({show, closeHandler}) => {\r\n    const dispatch = useAppDispatch()\r\n    const {isAuthorized} = useAppSelector(state => state.authorizationReducer)\r\n    const {favoriteWares} = useAppSelector(state => state.wareReducer)\r\n    useEffect(() => {\r\n        dispatch(fetch_favorite_wares())\r\n    }, [])\r\n    useEffect(() => {\r\n        dispatch(fetch_favorite_wares())\r\n    }, [show])\r\n    if (!show) return null\r\n    return ReactDOM.createPortal(\r\n        <Modal show={show} onHide={closeHandler}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Favorite wares</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {!isAuthorized ?\r\n                    <h3 className={'text-center my-4'}>Ви не авторизовані <Heartbreak className={'mb-1'}/></h3> :\r\n                    <>\r\n                        {favoriteWares.length > 0 ?\r\n                            favoriteWares.map(item => (\r\n                                    <>\r\n                                        <div className=\"card w-75 mx-auto mb-3\">\r\n                                            <img style={{\"width\": \"80%\", \"margin\": \"auto\"}}\r\n                                                 src={\"https://www.staff-clothes.com/_next/image/?url=https%3A%2F%2Fstatic.staff-clothes.com%2Fmedia%2Fcache%2Fimage_product_desktop_catalog%2Fimage_product%2F0002%2F73%2Fe3b0187358014ffeadec729c7f0beebf.jpeg&w=1920&q=75\"}\r\n                                                 className=\"card-img-top\" alt=\"...\"/>\r\n                                            <div className=\"card-body\">\r\n                                                <h5 className=\"card-title\">{item.name}</h5>\r\n                                                <p className=\"card-text\">{item.sizes}</p>\r\n                                                <p className=\"card-text\">{item.price} грн.</p>\r\n                                                {item.isDiscount ? <p className=\"card-text\">\r\n                                                    <del>{item.oldPrice} грн.</del>\r\n                                                </p> : <></>\r\n                                                }\r\n                                                <Link onClick={closeHandler} to={`/Wares/${item.wareId!}`}\r\n                                                      className=\"btn btn-primary\">More</Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </>\r\n                                )\r\n                            )\r\n                            : <p>Oops, it's empty</p>}\r\n                    </>\r\n                }\r\n\r\n            </Modal.Body>\r\n        </Modal>,\r\n        document.getElementById('root') as HTMLElement\r\n    );\r\n};\r\n\r\nexport default FavoriteWaresModal;"],"mappings":"AAAA,MAAOA,MAAK,EAAOC,SAAS,KAAO,OAAO,CAC1C,OAAQC,KAAK,KAAO,iBAAiB,CACrC,OAAQC,cAAc,CAAEC,cAAc,KAAO,mBAAmB,CAChE,OAAQC,UAAU,KAAO,uBAAuB,CAChD,MAAOC,SAAQ,KAAM,WAAW,CAChC,OAAQC,oBAAoB,KAAO,iDAAiD,CACpF,OAAQC,IAAI,KAAO,kBAAkB,CAAC,6IAOtC,GAAMC,mBAAsC,CAAG,QAAzCA,mBAAsC,MAA6B,IAAxBC,KAAI,MAAJA,IAAI,CAAEC,YAAY,MAAZA,YAAY,CAC/D,GAAMC,SAAQ,CAAGT,cAAc,EAAE,CACjC,oBAAuBC,cAAc,CAAC,SAAAS,KAAK,QAAIA,MAAK,CAACC,oBAAoB,GAAC,CAAnEC,YAAY,iBAAZA,YAAY,CACnB,qBAAwBX,cAAc,CAAC,SAAAS,KAAK,QAAIA,MAAK,CAACG,WAAW,GAAC,CAA3DC,aAAa,kBAAbA,aAAa,CACpBhB,SAAS,CAAC,UAAM,CACZW,QAAQ,CAACL,oBAAoB,EAAE,CAAC,CACpC,CAAC,CAAE,EAAE,CAAC,CACNN,SAAS,CAAC,UAAM,CACZW,QAAQ,CAACL,oBAAoB,EAAE,CAAC,CACpC,CAAC,CAAE,CAACG,IAAI,CAAC,CAAC,CACV,GAAI,CAACA,IAAI,CAAE,MAAO,KAAI,CACtB,mBAAOJ,QAAQ,CAACY,YAAY,cACxB,MAAC,KAAK,EAAC,IAAI,CAAER,IAAK,CAAC,MAAM,CAAEC,YAAa,wBACpC,KAAC,KAAK,CAAC,MAAM,EAAC,WAAW,4BACrB,KAAC,KAAK,CAAC,KAAK,6BAA6B,EAC9B,cACf,KAAC,KAAK,CAAC,IAAI,WACN,CAACI,YAAY,cACV,YAAI,SAAS,CAAE,kBAAmB,8HAAoB,KAAC,UAAU,EAAC,SAAS,CAAE,MAAO,EAAE,GAAK,cAC3F,yBACKE,aAAa,CAACE,MAAM,CAAG,CAAC,CACrBF,aAAa,CAACG,GAAG,CAAC,SAAAC,IAAI,qBACd,sCACI,aAAK,SAAS,CAAC,wBAAwB,wBACnC,YAAK,KAAK,CAAE,CAAC,OAAO,CAAE,KAAK,CAAE,QAAQ,CAAE,MAAM,CAAE,CAC1C,GAAG,CAAE,uNAAwN,CAC7N,SAAS,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,EAAE,cACzC,aAAK,SAAS,CAAC,WAAW,wBACtB,WAAI,SAAS,CAAC,YAAY,UAAEA,IAAI,CAACC,IAAI,EAAM,cAC3C,UAAG,SAAS,CAAC,WAAW,UAAED,IAAI,CAACE,KAAK,EAAK,cACzC,WAAG,SAAS,CAAC,WAAW,WAAEF,IAAI,CAACG,KAAK,0BAAU,CAC7CH,IAAI,CAACI,UAAU,cAAG,UAAG,SAAS,CAAC,WAAW,uBACvC,uBAAMJ,IAAI,CAACK,QAAQ,0BAAY,EAC/B,cAAG,kBAAK,cAEZ,KAAC,IAAI,EAAC,OAAO,CAAEf,YAAa,CAAC,EAAE,kBAAYU,IAAI,CAACM,MAAM,CAAI,CACpD,SAAS,CAAC,iBAAiB,kBAAY,GAC3C,GACJ,EACP,EACN,CACJ,cACC,uCAAuB,EAC9B,EAGE,GACT,CACRC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAClC,CACL,CAAC,CAED,cAAepB,mBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}