{"ast":null,"code":"import _slicedToArray from\"C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useAppDispatch,useAppSelector}from\"../../hooks/redux\";import{get_orders}from\"../../redux/action_creators/ware_action_creator\";import{Accordion}from\"react-bootstrap\";import CabinetOrderItem from\"./CabinetOrderItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CabinetOrders=function CabinetOrders(){var dispatch=useAppDispatch();var orders=useAppSelector(function(state){return state.wareReducer.orders.orders;});var _useState=useState(null),_useState2=_slicedToArray(_useState,2),filterField=_useState2[0],setFilterField=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),orderNumber=_useState6[0],setOrderNumber=_useState6[1];useEffect(function(){dispatch(get_orders());},[]);useEffect(function(){if(filterField===\"true\"){setFilter(true);}if(filterField===\"false\"){setFilter(false);}if(filterField===\"\"){setFilter(null);}},[filterField]);useEffect(function(){fetchOrderHandler();},[filter,orderNumber]);var fetchOrderHandler=function fetchOrderHandler(){dispatch(get_orders(filter,orderNumber));};return/*#__PURE__*/_jsxs(\"div\",{className:'mt-4 mx-auto',children:[/*#__PURE__*/_jsxs(\"div\",{className:'row mb-2',children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex input-group-sm\",role:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control py-0\",type:\"search\",placeholder:\"Search by name\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var _Number;setOrderNumber((_Number=Number(e.currentTarget.previousElementSibling.value))!==null&&_Number!==void 0?_Number:null);e.preventDefault();},className:\"btn btn-outline-success\",type:\"submit\",children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){setOrderNumber(null);e.preventDefault();e.currentTarget.previousElementSibling.previousElementSibling.value=\"\";},className:'btn btn-outline-primary',children:\"Reset\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setFilterField(e.currentTarget.value);},className:'form-select',children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Confirmed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Not confirmed\"})]})})})]}),/*#__PURE__*/_jsx(Accordion,{defaultActiveKey:\"0\",children:orders.map(function(item){return/*#__PURE__*/_jsx(CabinetOrderItem,{item:item});})})]});};export default CabinetOrders;","map":{"version":3,"names":["React","useEffect","useState","useAppDispatch","useAppSelector","get_orders","Accordion","CabinetOrderItem","CabinetOrders","dispatch","orders","state","wareReducer","filterField","setFilterField","filter","setFilter","orderNumber","setOrderNumber","fetchOrderHandler","e","Number","currentTarget","previousElementSibling","value","preventDefault","map","item"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Account/CabinetOrders.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {get_orders, update_order} from \"../../redux/action_creators/ware_action_creator\";\r\nimport {Accordion} from \"react-bootstrap\";\r\nimport CabinetOrderItem from \"./CabinetOrderItem\";\r\nimport {CaretDown, CaretUp} from \"react-bootstrap-icons\";\r\nimport {fetch_all_users} from \"../../redux/action_creators/users_action_creator\";\r\n\r\nconst CabinetOrders = () => {\r\n    const dispatch = useAppDispatch()\r\n    const orders = useAppSelector(state => state.wareReducer.orders.orders)\r\n    const [filterField, setFilterField] = useState<string | null>(null)\r\n    const [filter, setFilter] = useState<boolean | null>(null)\r\n    const [orderNumber, setOrderNumber] = useState<number | null>(null)\r\n    useEffect(() => {\r\n        dispatch(get_orders())\r\n    }, [ ])\r\n\r\n    useEffect(() => {\r\n        if (filterField === \"true\"){\r\n            setFilter(true)\r\n        }\r\n        if (filterField === \"false\"){\r\n            setFilter(false)\r\n        }\r\n        if (filterField === \"\"){\r\n            setFilter(null)\r\n\r\n        }\r\n\r\n    }, [filterField])\r\n\r\n    useEffect(() => {\r\n        fetchOrderHandler()\r\n    }, [filter, orderNumber])\r\n\r\n    const fetchOrderHandler = () => {\r\n        dispatch(get_orders(filter, orderNumber))\r\n    }\r\n    return (\r\n        <div className={'mt-4 mx-auto'}>\r\n            <div className={'row mb-2'}>\r\n                <div className=\"col\">\r\n                    <form className=\"d-flex input-group-sm\" role=\"search\">\r\n                        <input className=\"form-control py-0\" type=\"search\" placeholder=\"Search by name\"/>\r\n                        <button onClick={(e: any) => {\r\n                            setOrderNumber(Number(e.currentTarget.previousElementSibling!.value) ?? null);\r\n                            e.preventDefault()\r\n                        }} className=\"btn btn-outline-success\" type=\"submit\">Search\r\n                        </button>\r\n                        <button onClick={(e:any) => {setOrderNumber(null);e.preventDefault();e.currentTarget.previousElementSibling!.previousElementSibling!.value = \"\"}} className={'btn btn-outline-primary'}>Reset</button>\r\n                    </form>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <div className=\"\">\r\n                        <select onChange={e => setFilterField(e.currentTarget.value)}\r\n                                className={'form-select'}>\r\n                            <option selected value=\"\">All</option>\r\n                            <option value=\"true\">Confirmed</option>\r\n                            <option value=\"false\">Not confirmed</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Accordion defaultActiveKey=\"0\">\r\n                {orders.map(item => (\r\n                    <CabinetOrderItem item={item} />\r\n                ))}\r\n            </Accordion>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CabinetOrders;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}