{"ast":null,"code":"import Node from '../core/Node.js';\nimport PropertyNode from '../core/PropertyNode.js';\nimport ContextNode from '../core/ContextNode.js';\nclass CondNode extends Node {\n  constructor(condNode, ifNode, elseNode) {\n    super();\n    this.condNode = condNode;\n    this.ifNode = ifNode;\n    this.elseNode = elseNode;\n  }\n  getNodeType(builder) {\n    const ifType = this.ifNode.getNodeType(builder);\n    const elseType = this.elseNode.getNodeType(builder);\n    if (builder.getTypeLength(elseType) > builder.getTypeLength(ifType)) {\n      return elseType;\n    }\n    return ifType;\n  }\n  generate(builder) {\n    const type = this.getNodeType(builder);\n    const context = {\n      tempWrite: false\n    };\n    const nodeProperty = new PropertyNode(null, type).build(builder);\n    const nodeSnippet = new ContextNode(this.condNode /*, context*/).build(builder, 'bool'),\n      ifSnippet = new ContextNode(this.ifNode, context).build(builder, type),\n      elseSnippet = new ContextNode(this.elseNode, context).build(builder, type);\n    builder.addFlowCode(`if ( ${nodeSnippet} ) {\n\n\\t\\t${nodeProperty} = ${ifSnippet};\n\n\\t} else {\n\n\\t\\t${nodeProperty} = ${elseSnippet};\n\n\\t}`);\n    return nodeProperty;\n  }\n}\nexport default CondNode;","map":{"version":3,"names":["Node","PropertyNode","ContextNode","CondNode","constructor","condNode","ifNode","elseNode","getNodeType","builder","ifType","elseType","getTypeLength","generate","type","context","tempWrite","nodeProperty","build","nodeSnippet","ifSnippet","elseSnippet","addFlowCode"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/examples/jsm/nodes/math/CondNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport PropertyNode from '../core/PropertyNode.js';\nimport ContextNode from '../core/ContextNode.js';\n\nclass CondNode extends Node {\n\n\tconstructor( condNode, ifNode, elseNode ) {\n\n\t\tsuper();\n\n\t\tthis.condNode = condNode;\n\n\t\tthis.ifNode = ifNode;\n\t\tthis.elseNode = elseNode;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\tconst ifType = this.ifNode.getNodeType( builder );\n\t\tconst elseType = this.elseNode.getNodeType( builder );\n\n\t\tif ( builder.getTypeLength( elseType ) > builder.getTypeLength( ifType ) ) {\n\n\t\t\treturn elseType;\n\n\t\t}\n\n\t\treturn ifType;\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst type = this.getNodeType( builder );\n\n\t\tconst context = { tempWrite: false };\n\t\tconst nodeProperty = new PropertyNode( null, type ).build( builder );\n\n\t\tconst nodeSnippet = new ContextNode( this.condNode/*, context*/ ).build( builder, 'bool' ),\n\t\t\tifSnippet = new ContextNode( this.ifNode, context ).build( builder, type ),\n\t\t\telseSnippet = new ContextNode( this.elseNode, context ).build( builder, type );\n\n\t\tbuilder.addFlowCode( `if ( ${nodeSnippet} ) {\n\n\\t\\t${nodeProperty} = ${ifSnippet};\n\n\\t} else {\n\n\\t\\t${nodeProperty} = ${elseSnippet};\n\n\\t}` );\n\n\t\treturn nodeProperty;\n\n\t}\n\n}\n\nexport default CondNode;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,iBAAiB;AAClC,OAAOC,YAAY,MAAM,yBAAyB;AAClD,OAAOC,WAAW,MAAM,wBAAwB;AAEhD,MAAMC,QAAQ,SAASH,IAAI,CAAC;EAE3BI,WAAW,CAAEC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,EAAG;IAEzC,KAAK,EAAE;IAEP,IAAI,CAACF,QAAQ,GAAGA,QAAQ;IAExB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EAEzB;EAEAC,WAAW,CAAEC,OAAO,EAAG;IAEtB,MAAMC,MAAM,GAAG,IAAI,CAACJ,MAAM,CAACE,WAAW,CAAEC,OAAO,CAAE;IACjD,MAAME,QAAQ,GAAG,IAAI,CAACJ,QAAQ,CAACC,WAAW,CAAEC,OAAO,CAAE;IAErD,IAAKA,OAAO,CAACG,aAAa,CAAED,QAAQ,CAAE,GAAGF,OAAO,CAACG,aAAa,CAAEF,MAAM,CAAE,EAAG;MAE1E,OAAOC,QAAQ;IAEhB;IAEA,OAAOD,MAAM;EAEd;EAEAG,QAAQ,CAAEJ,OAAO,EAAG;IAEnB,MAAMK,IAAI,GAAG,IAAI,CAACN,WAAW,CAAEC,OAAO,CAAE;IAExC,MAAMM,OAAO,GAAG;MAAEC,SAAS,EAAE;IAAM,CAAC;IACpC,MAAMC,YAAY,GAAG,IAAIhB,YAAY,CAAE,IAAI,EAAEa,IAAI,CAAE,CAACI,KAAK,CAAET,OAAO,CAAE;IAEpE,MAAMU,WAAW,GAAG,IAAIjB,WAAW,CAAE,IAAI,CAACG,QAAQ,eAAe,CAACa,KAAK,CAAET,OAAO,EAAE,MAAM,CAAE;MACzFW,SAAS,GAAG,IAAIlB,WAAW,CAAE,IAAI,CAACI,MAAM,EAAES,OAAO,CAAE,CAACG,KAAK,CAAET,OAAO,EAAEK,IAAI,CAAE;MAC1EO,WAAW,GAAG,IAAInB,WAAW,CAAE,IAAI,CAACK,QAAQ,EAAEQ,OAAO,CAAE,CAACG,KAAK,CAAET,OAAO,EAAEK,IAAI,CAAE;IAE/EL,OAAO,CAACa,WAAW,CAAG,QAAOH,WAAY;AAC3C;AACA,MAAMF,YAAa,MAAKG,SAAU;AAClC;AACA;AACA;AACA,MAAMH,YAAa,MAAKI,WAAY;AACpC;AACA,IAAI,CAAE;IAEJ,OAAOJ,YAAY;EAEpB;AAED;AAEA,eAAed,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}