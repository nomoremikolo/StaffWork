{"ast":null,"code":"class LoadingManager {\n  constructor(onLoad, onProgress, onError) {\n    const scope = this;\n    let isLoading = false;\n    let itemsLoaded = 0;\n    let itemsTotal = 0;\n    let urlModifier = undefined;\n    const handlers = [];\n\n    // Refer to #5689 for the reason why we don't set .onStart\n    // in the constructor\n\n    this.onStart = undefined;\n    this.onLoad = onLoad;\n    this.onProgress = onProgress;\n    this.onError = onError;\n    this.itemStart = function (url) {\n      itemsTotal++;\n      if (isLoading === false) {\n        if (scope.onStart !== undefined) {\n          scope.onStart(url, itemsLoaded, itemsTotal);\n        }\n      }\n      isLoading = true;\n    };\n    this.itemEnd = function (url) {\n      itemsLoaded++;\n      if (scope.onProgress !== undefined) {\n        scope.onProgress(url, itemsLoaded, itemsTotal);\n      }\n      if (itemsLoaded === itemsTotal) {\n        isLoading = false;\n        if (scope.onLoad !== undefined) {\n          scope.onLoad();\n        }\n      }\n    };\n    this.itemError = function (url) {\n      if (scope.onError !== undefined) {\n        scope.onError(url);\n      }\n    };\n    this.resolveURL = function (url) {\n      if (urlModifier) {\n        return urlModifier(url);\n      }\n      return url;\n    };\n    this.setURLModifier = function (transform) {\n      urlModifier = transform;\n      return this;\n    };\n    this.addHandler = function (regex, loader) {\n      handlers.push(regex, loader);\n      return this;\n    };\n    this.removeHandler = function (regex) {\n      const index = handlers.indexOf(regex);\n      if (index !== -1) {\n        handlers.splice(index, 2);\n      }\n      return this;\n    };\n    this.getHandler = function (file) {\n      for (let i = 0, l = handlers.length; i < l; i += 2) {\n        const regex = handlers[i];\n        const loader = handlers[i + 1];\n        if (regex.global) regex.lastIndex = 0; // see #17920\n\n        if (regex.test(file)) {\n          return loader;\n        }\n      }\n      return null;\n    };\n  }\n}\nconst DefaultLoadingManager = /*@__PURE__*/new LoadingManager();\nexport { DefaultLoadingManager, LoadingManager };","map":{"version":3,"names":["LoadingManager","constructor","onLoad","onProgress","onError","scope","isLoading","itemsLoaded","itemsTotal","urlModifier","undefined","handlers","onStart","itemStart","url","itemEnd","itemError","resolveURL","setURLModifier","transform","addHandler","regex","loader","push","removeHandler","index","indexOf","splice","getHandler","file","i","l","length","global","lastIndex","test","DefaultLoadingManager"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/src/loaders/LoadingManager.js"],"sourcesContent":["class LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = /*@__PURE__*/ new LoadingManager();\n\nexport { DefaultLoadingManager, LoadingManager };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}