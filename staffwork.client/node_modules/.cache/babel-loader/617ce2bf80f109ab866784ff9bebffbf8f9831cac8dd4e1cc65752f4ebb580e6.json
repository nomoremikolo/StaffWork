{"ast":null,"code":"import { sRGBEncoding, LinearSRGBColorSpace, SRGBColorSpace } from '../../constants.js';\n\n/**\n * Uniform Utilities\n */\n\nexport function cloneUniforms(src) {\n  const dst = {};\n  for (const u in src) {\n    dst[u] = {};\n    for (const p in src[u]) {\n      const property = src[u][p];\n      if (property && (property.isColor || property.isMatrix3 || property.isMatrix4 || property.isVector2 || property.isVector3 || property.isVector4 || property.isTexture || property.isQuaternion)) {\n        dst[u][p] = property.clone();\n      } else if (Array.isArray(property)) {\n        dst[u][p] = property.slice();\n      } else {\n        dst[u][p] = property;\n      }\n    }\n  }\n  return dst;\n}\nexport function mergeUniforms(uniforms) {\n  const merged = {};\n  for (let u = 0; u < uniforms.length; u++) {\n    const tmp = cloneUniforms(uniforms[u]);\n    for (const p in tmp) {\n      merged[p] = tmp[p];\n    }\n  }\n  return merged;\n}\nexport function cloneUniformsGroups(src) {\n  const dst = [];\n  for (let u = 0; u < src.length; u++) {\n    dst.push(src[u].clone());\n  }\n  return dst;\n}\nexport function getUnlitUniformColorSpace(renderer) {\n  if (renderer.getRenderTarget() === null) {\n    // https://github.com/mrdoob/three.js/pull/23937#issuecomment-1111067398\n    return renderer.outputEncoding === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n  }\n  return LinearSRGBColorSpace;\n}\n\n// Legacy\n\nconst UniformsUtils = {\n  clone: cloneUniforms,\n  merge: mergeUniforms\n};\nexport { UniformsUtils };","map":{"version":3,"names":["sRGBEncoding","LinearSRGBColorSpace","SRGBColorSpace","cloneUniforms","src","dst","u","p","property","isColor","isMatrix3","isMatrix4","isVector2","isVector3","isVector4","isTexture","isQuaternion","clone","Array","isArray","slice","mergeUniforms","uniforms","merged","length","tmp","cloneUniformsGroups","push","getUnlitUniformColorSpace","renderer","getRenderTarget","outputEncoding","UniformsUtils","merge"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/src/renderers/shaders/UniformsUtils.js"],"sourcesContent":["import { sRGBEncoding, LinearSRGBColorSpace, SRGBColorSpace } from '../../constants.js';\n\n/**\n * Uniform Utilities\n */\n\nexport function cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nexport function mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\nexport function cloneUniformsGroups( src ) {\n\n\tconst dst = [];\n\n\tfor ( let u = 0; u < src.length; u ++ ) {\n\n\t\tdst.push( src[ u ].clone() );\n\n\t}\n\n\treturn dst;\n\n}\n\nexport function getUnlitUniformColorSpace( renderer ) {\n\n\tif ( renderer.getRenderTarget() === null ) {\n\n\t\t// https://github.com/mrdoob/three.js/pull/23937#issuecomment-1111067398\n\t\treturn renderer.outputEncoding === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n\n\t}\n\n\treturn LinearSRGBColorSpace;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nexport { UniformsUtils };\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,oBAAoB,EAAEC,cAAc,QAAQ,oBAAoB;;AAEvF;AACA;AACA;;AAEA,OAAO,SAASC,aAAa,CAAEC,GAAG,EAAG;EAEpC,MAAMC,GAAG,GAAG,CAAC,CAAC;EAEd,KAAM,MAAMC,CAAC,IAAIF,GAAG,EAAG;IAEtBC,GAAG,CAAEC,CAAC,CAAE,GAAG,CAAC,CAAC;IAEb,KAAM,MAAMC,CAAC,IAAIH,GAAG,CAAEE,CAAC,CAAE,EAAG;MAE3B,MAAME,QAAQ,GAAGJ,GAAG,CAAEE,CAAC,CAAE,CAAEC,CAAC,CAAE;MAE9B,IAAKC,QAAQ,KAAMA,QAAQ,CAACC,OAAO,IAClCD,QAAQ,CAACE,SAAS,IAAIF,QAAQ,CAACG,SAAS,IACxCH,QAAQ,CAACI,SAAS,IAAIJ,QAAQ,CAACK,SAAS,IAAIL,QAAQ,CAACM,SAAS,IAC9DN,QAAQ,CAACO,SAAS,IAAIP,QAAQ,CAACQ,YAAY,CAAE,EAAG;QAEhDX,GAAG,CAAEC,CAAC,CAAE,CAAEC,CAAC,CAAE,GAAGC,QAAQ,CAACS,KAAK,EAAE;MAEjC,CAAC,MAAM,IAAKC,KAAK,CAACC,OAAO,CAAEX,QAAQ,CAAE,EAAG;QAEvCH,GAAG,CAAEC,CAAC,CAAE,CAAEC,CAAC,CAAE,GAAGC,QAAQ,CAACY,KAAK,EAAE;MAEjC,CAAC,MAAM;QAENf,GAAG,CAAEC,CAAC,CAAE,CAAEC,CAAC,CAAE,GAAGC,QAAQ;MAEzB;IAED;EAED;EAEA,OAAOH,GAAG;AAEX;AAEA,OAAO,SAASgB,aAAa,CAAEC,QAAQ,EAAG;EAEzC,MAAMC,MAAM,GAAG,CAAC,CAAC;EAEjB,KAAM,IAAIjB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgB,QAAQ,CAACE,MAAM,EAAElB,CAAC,EAAG,EAAG;IAE5C,MAAMmB,GAAG,GAAGtB,aAAa,CAAEmB,QAAQ,CAAEhB,CAAC,CAAE,CAAE;IAE1C,KAAM,MAAMC,CAAC,IAAIkB,GAAG,EAAG;MAEtBF,MAAM,CAAEhB,CAAC,CAAE,GAAGkB,GAAG,CAAElB,CAAC,CAAE;IAEvB;EAED;EAEA,OAAOgB,MAAM;AAEd;AAEA,OAAO,SAASG,mBAAmB,CAAEtB,GAAG,EAAG;EAE1C,MAAMC,GAAG,GAAG,EAAE;EAEd,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACoB,MAAM,EAAElB,CAAC,EAAG,EAAG;IAEvCD,GAAG,CAACsB,IAAI,CAAEvB,GAAG,CAAEE,CAAC,CAAE,CAACW,KAAK,EAAE,CAAE;EAE7B;EAEA,OAAOZ,GAAG;AAEX;AAEA,OAAO,SAASuB,yBAAyB,CAAEC,QAAQ,EAAG;EAErD,IAAKA,QAAQ,CAACC,eAAe,EAAE,KAAK,IAAI,EAAG;IAE1C;IACA,OAAOD,QAAQ,CAACE,cAAc,KAAK/B,YAAY,GAAGE,cAAc,GAAGD,oBAAoB;EAExF;EAEA,OAAOA,oBAAoB;AAE5B;;AAEA;;AAEA,MAAM+B,aAAa,GAAG;EAAEf,KAAK,EAAEd,aAAa;EAAE8B,KAAK,EAAEZ;AAAc,CAAC;AAEpE,SAASW,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}