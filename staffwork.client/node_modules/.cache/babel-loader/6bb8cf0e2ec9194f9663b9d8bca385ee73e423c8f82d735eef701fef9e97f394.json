{"ast":null,"code":"import _slicedToArray from\"C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useAppDispatch,useAppSelector}from\"../../hooks/redux\";import{fetch_discount_wares}from\"../../redux/action_creators/ware_action_creator\";import{CaretDown,CaretUp}from\"react-bootstrap-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Discounts=function Discounts(){var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.wareReducer;}),error=_useAppSelector.error,isLoading=_useAppSelector.isLoading,discountWares=_useAppSelector.discountWares;var _useState=useState({value:\"Name\",isReverse:false}),_useState2=_slicedToArray(_useState,2),sortField=_useState2[0],setSortField=_useState2[1];useEffect(function(){dispatch(fetch_discount_wares({sortBy:{value:\"price\",isReverse:false}}));},[]);useEffect(function(){dispatch(fetch_discount_wares({sortBy:{value:sortField.value,isReverse:sortField.isReverse}}));},[sortField]);var changeSortHandler=function changeSortHandler(field){setSortField({value:field,isReverse:field===sortField.value?!sortField.isReverse:false});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container d-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-block\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Sort by \",sortField.isReverse?/*#__PURE__*/_jsx(CaretUp,{}):/*#__PURE__*/_jsx(CaretDown,{})]}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:sortField.value===\"Name\"?\"red\":\"\"},onClick:function onClick(){return changeSortHandler('Name');},className:\"btn btn-primary\",children:\"Name\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:sortField.value===\"Price\"?\"red\":\"\"},onClick:function onClick(){return changeSortHandler(\"Price\");},className:\"btn btn-primary\",children:\"Price\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:sortField.value===\"Sizes\"?\"red\":\"\"},onClick:function onClick(){return changeSortHandler(\"Sizes\");},className:\"btn btn-primary\",children:\"Sizes\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:sortField.value===\"OldPrice\"?\"red\":\"\"},onClick:function onClick(){return changeSortHandler(\"OldPrice\");},className:\"btn btn-primary\",children:\"OldPrice\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-xxl-start row\",children:discountWares===null||discountWares===void 0?void 0:discountWares.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow mt-4 me-lg-4 col-12 col-md-4 mx-auto mx-lg-0\",style:{\"width\":\"18rem\"},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"position-absolute top-0 start-0 bg-danger px-2 py-1 m-1 text-white\",children:[\"-\",100-Math.floor(100*item.price/item.oldPrice),\"%\"]}),/*#__PURE__*/_jsx(\"img\",{src:\"https://www.staff-clothes.com/_next/image/?url=https%3A%2F%2Fstatic.staff-clothes.com%2Fmedia%2Fcache%2Fimage_product_desktop_catalog%2Fimage_product%2F0002%2F73%2Fe3b0187358014ffeadec729c7f0beebf.jpeg&w=1920&q=75\",className:\"card-img-top\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:/*#__PURE__*/_jsx(\"p\",{className:'d-inline',children:item.name})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-muted\",children:item.sizes}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger d-inline\",children:[item.price,\" \\u0433\\u0440\\u043D.\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted d-inline\",children:/*#__PURE__*/_jsxs(\"del\",{children:[item.oldPrice,\" \\u0433\\u0440\\u043D.\"]})})]})]},item.id);})})]});};export default Discounts;","map":{"version":3,"names":["React","useEffect","useState","useAppDispatch","useAppSelector","fetch_discount_wares","CaretDown","CaretUp","Discounts","dispatch","state","wareReducer","error","isLoading","discountWares","value","isReverse","sortField","setSortField","sortBy","changeSortHandler","field","backgroundColor","map","item","Math","floor","price","oldPrice","name","sizes","id"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Discounts/Discounts.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {fetch_discount_wares} from \"../../redux/action_creators/ware_action_creator\";\r\nimport {CaretDown, CaretUp} from \"react-bootstrap-icons\";\r\n\r\nconst Discounts = () => {\r\n    const dispatch = useAppDispatch()\r\n    const {error,isLoading,discountWares} = useAppSelector(state => state.wareReducer)\r\n    const [sortField, setSortField] = useState({value: \"Name\", isReverse: false})\r\n    useEffect(() => {\r\n        dispatch(fetch_discount_wares({sortBy: {value: \"price\", isReverse: false}}))\r\n    }, [ ])\r\n    useEffect(() => {\r\n        dispatch(fetch_discount_wares({sortBy: {value: sortField.value, isReverse: sortField.isReverse}}))\r\n    }, [sortField])\r\n    const changeSortHandler = (field: string) => {\r\n        setSortField({value: field, isReverse: field === sortField.value ? !sortField.isReverse : false})\r\n    }\r\n    return (\r\n        <div className=\"container d-block\">\r\n            <div className=\"d-block\">\r\n                <br/>\r\n                <br/>\r\n                <div className={\"text-center\"}>\r\n                    <p>Sort by {sortField.isReverse ? <CaretUp/> : <CaretDown/>}</p>\r\n                    <button style={{backgroundColor: sortField.value === \"Name\" ? \"red\" : \"\"}} onClick={() => changeSortHandler('Name')} className={\"btn btn-primary\"}>Name</button>\r\n                    <button style={{backgroundColor: sortField.value === \"Price\" ? \"red\" : \"\"}} onClick={() => changeSortHandler(\"Price\")} className={\"btn btn-primary\"}>Price</button>\r\n                    <button style={{backgroundColor: sortField.value === \"Sizes\" ? \"red\" : \"\"}} onClick={() => changeSortHandler(\"Sizes\")} className={\"btn btn-primary\"}>Sizes</button>\r\n                    <button style={{backgroundColor: sortField.value === \"OldPrice\" ? \"red\" : \"\"}} onClick={() => changeSortHandler(\"OldPrice\")} className={\"btn btn-primary\"}>OldPrice</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"text-center text-xxl-start row\">\r\n                {discountWares?.map(item =>\r\n                    <div key={item.id} className=\"card shadow mt-4 me-lg-4 col-12 col-md-4 mx-auto mx-lg-0\" style={{\"width\": \"18rem\"}}>\r\n                        <p className=\"position-absolute top-0 start-0 bg-danger px-2 py-1 m-1 text-white\">-{100 - Math.floor(100 * item.price / item.oldPrice)}%</p>\r\n                        <img\r\n                            src=\"https://www.staff-clothes.com/_next/image/?url=https%3A%2F%2Fstatic.staff-clothes.com%2Fmedia%2Fcache%2Fimage_product_desktop_catalog%2Fimage_product%2F0002%2F73%2Fe3b0187358014ffeadec729c7f0beebf.jpeg&w=1920&q=75\"\r\n                            className=\"card-img-top\" alt=\"...\"/>\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\"><p className={'d-inline'}>{item.name}</p></h5>\r\n                            <p className=\"card-text text-muted\">{item.sizes}</p>\r\n                            <p className=\"text-danger d-inline\">{item.price} грн.</p>\r\n                            <p className=\"text-muted d-inline\">\r\n                                <del>{item.oldPrice} грн.</del>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Discounts;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}