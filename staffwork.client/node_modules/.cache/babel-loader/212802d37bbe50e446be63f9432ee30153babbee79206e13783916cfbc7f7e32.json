{"ast":null,"code":"import Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\nclass ReferenceNode extends Node {\n  constructor(property, uniformType) {\n    let object = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    super();\n    this.property = property;\n    this.uniformType = uniformType;\n    this.object = object;\n    this.node = null;\n    this.updateType = NodeUpdateType.OBJECT;\n    this.setNodeType(uniformType);\n  }\n  setNodeType(uniformType) {\n    this.node = new UniformNode(null, uniformType);\n    this.nodeType = uniformType;\n    if (uniformType === 'color') {\n      this.nodeType = 'vec3';\n    } else if (uniformType === 'texture') {\n      this.nodeType = 'vec4';\n    }\n  }\n  getNodeType() {\n    return this.uniformType;\n  }\n  update(frame) {\n    const object = this.object !== null ? this.object : frame.object;\n    const value = object[this.property];\n    this.node.value = value;\n  }\n  generate(builder) {\n    return this.node.build(builder, this.getNodeType(builder));\n  }\n}\nexport default ReferenceNode;","map":{"version":3,"names":["Node","UniformNode","NodeUpdateType","ReferenceNode","constructor","property","uniformType","object","node","updateType","OBJECT","setNodeType","nodeType","getNodeType","update","frame","value","generate","builder","build"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/examples/jsm/nodes/accessors/ReferenceNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nclass ReferenceNode extends Node {\n\n\tconstructor( property, uniformType, object = null ) {\n\n\t\tsuper();\n\n\t\tthis.property = property;\n\n\t\tthis.uniformType = uniformType;\n\n\t\tthis.object = object;\n\n\t\tthis.node = null;\n\n\t\tthis.updateType = NodeUpdateType.OBJECT;\n\n\t\tthis.setNodeType( uniformType );\n\n\t}\n\n\tsetNodeType( uniformType ) {\n\n\t\tthis.node = new UniformNode( null, uniformType );\n\t\tthis.nodeType = uniformType;\n\n\t\tif ( uniformType === 'color' ) {\n\n\t\t\tthis.nodeType = 'vec3';\n\n\t\t} else if ( uniformType === 'texture' ) {\n\n\t\t\tthis.nodeType = 'vec4';\n\n\t\t}\n\n\t}\n\n\tgetNodeType() {\n\n\t\treturn this.uniformType;\n\n\t}\n\n\tupdate( frame ) {\n\n\t\tconst object = this.object !== null ? this.object : frame.object;\n\t\tconst value = object[ this.property ];\n\n\t\tthis.node.value = value;\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\treturn this.node.build( builder, this.getNodeType( builder ) );\n\n\t}\n\n}\n\nexport default ReferenceNode;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,iBAAiB;AAClC,OAAOC,WAAW,MAAM,wBAAwB;AAChD,SAASC,cAAc,QAAQ,sBAAsB;AAErD,MAAMC,aAAa,SAASH,IAAI,CAAC;EAEhCI,WAAW,CAAEC,QAAQ,EAAEC,WAAW,EAAkB;IAAA,IAAhBC,MAAM,uEAAG,IAAI;IAEhD,KAAK,EAAE;IAEP,IAAI,CAACF,QAAQ,GAAGA,QAAQ;IAExB,IAAI,CAACC,WAAW,GAAGA,WAAW;IAE9B,IAAI,CAACC,MAAM,GAAGA,MAAM;IAEpB,IAAI,CAACC,IAAI,GAAG,IAAI;IAEhB,IAAI,CAACC,UAAU,GAAGP,cAAc,CAACQ,MAAM;IAEvC,IAAI,CAACC,WAAW,CAAEL,WAAW,CAAE;EAEhC;EAEAK,WAAW,CAAEL,WAAW,EAAG;IAE1B,IAAI,CAACE,IAAI,GAAG,IAAIP,WAAW,CAAE,IAAI,EAAEK,WAAW,CAAE;IAChD,IAAI,CAACM,QAAQ,GAAGN,WAAW;IAE3B,IAAKA,WAAW,KAAK,OAAO,EAAG;MAE9B,IAAI,CAACM,QAAQ,GAAG,MAAM;IAEvB,CAAC,MAAM,IAAKN,WAAW,KAAK,SAAS,EAAG;MAEvC,IAAI,CAACM,QAAQ,GAAG,MAAM;IAEvB;EAED;EAEAC,WAAW,GAAG;IAEb,OAAO,IAAI,CAACP,WAAW;EAExB;EAEAQ,MAAM,CAAEC,KAAK,EAAG;IAEf,MAAMR,MAAM,GAAG,IAAI,CAACA,MAAM,KAAK,IAAI,GAAG,IAAI,CAACA,MAAM,GAAGQ,KAAK,CAACR,MAAM;IAChE,MAAMS,KAAK,GAAGT,MAAM,CAAE,IAAI,CAACF,QAAQ,CAAE;IAErC,IAAI,CAACG,IAAI,CAACQ,KAAK,GAAGA,KAAK;EAExB;EAEAC,QAAQ,CAAEC,OAAO,EAAG;IAEnB,OAAO,IAAI,CAACV,IAAI,CAACW,KAAK,CAAED,OAAO,EAAE,IAAI,CAACL,WAAW,CAAEK,OAAO,CAAE,CAAE;EAE/D;AAED;AAEA,eAAef,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}