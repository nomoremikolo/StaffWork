{"ast":null,"code":"import { EventDispatcher } from '../core/EventDispatcher.js';\nimport { Texture } from '../textures/Texture.js';\nimport { LinearFilter } from '../constants.js';\nimport { Vector4 } from '../math/Vector4.js';\nimport { Source } from '../textures/Source.js';\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n  constructor() {\n    let width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    let height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    super();\n    this.isWebGLRenderTarget = true;\n    this.width = width;\n    this.height = height;\n    this.depth = 1;\n    this.scissor = new Vector4(0, 0, width, height);\n    this.scissorTest = false;\n    this.viewport = new Vector4(0, 0, width, height);\n    const image = {\n      width: width,\n      height: height,\n      depth: 1\n    };\n    this.texture = new Texture(image, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n    this.texture.isRenderTargetTexture = true;\n    this.texture.flipY = false;\n    this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n    this.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n    this.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n    this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n    this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n    this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n    this.samples = options.samples !== undefined ? options.samples : 0;\n  }\n  setSize(width, height) {\n    let depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    if (this.width !== width || this.height !== height || this.depth !== depth) {\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n      this.texture.image.width = width;\n      this.texture.image.height = height;\n      this.texture.image.depth = depth;\n      this.dispose();\n    }\n    this.viewport.set(0, 0, width, height);\n    this.scissor.set(0, 0, width, height);\n  }\n  clone() {\n    return new this.constructor().copy(this);\n  }\n  copy(source) {\n    this.width = source.width;\n    this.height = source.height;\n    this.depth = source.depth;\n    this.viewport.copy(source.viewport);\n    this.texture = source.texture.clone();\n    this.texture.isRenderTargetTexture = true;\n\n    // ensure image object is not shared, see #20328\n\n    const image = Object.assign({}, source.texture.image);\n    this.texture.source = new Source(image);\n    this.depthBuffer = source.depthBuffer;\n    this.stencilBuffer = source.stencilBuffer;\n    if (source.depthTexture !== null) this.depthTexture = source.depthTexture.clone();\n    this.samples = source.samples;\n    return this;\n  }\n  dispose() {\n    this.dispatchEvent({\n      type: 'dispose'\n    });\n  }\n}\nexport { WebGLRenderTarget };","map":{"version":3,"names":["EventDispatcher","Texture","LinearFilter","Vector4","Source","WebGLRenderTarget","constructor","width","height","options","isWebGLRenderTarget","depth","scissor","scissorTest","viewport","image","texture","mapping","wrapS","wrapT","magFilter","minFilter","format","type","anisotropy","encoding","isRenderTargetTexture","flipY","generateMipmaps","undefined","internalFormat","depthBuffer","stencilBuffer","depthTexture","samples","setSize","dispose","set","clone","copy","source","Object","assign","dispatchEvent"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/src/renderers/WebGLRenderTarget.js"],"sourcesContent":["import { EventDispatcher } from '../core/EventDispatcher.js';\nimport { Texture } from '../textures/Texture.js';\nimport { LinearFilter } from '../constants.js';\nimport { Vector4 } from '../math/Vector4.js';\nimport { Source } from '../textures/Source.js';\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width = 1, height = 1, options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.isWebGLRenderTarget = true;\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\tconst image = { width: width, height: height, depth: 1 };\n\n\t\tthis.texture = new Texture( image, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.flipY = false;\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t\tthis.samples = options.samples !== undefined ? options.samples : 0;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\t// ensure image object is not shared, see #20328\n\n\t\tconst image = Object.assign( {}, source.texture.image );\n\t\tthis.texture.source = new Source( image );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nexport { WebGLRenderTarget };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}