{"ast":null,"code":"import Node from '../core/Node.js';\nimport TimerNode from './TimerNode.js';\nimport { abs, fract, round, sin, add, sub, mul } from '../shadernode/ShaderNodeBaseElements.js';\nclass OscNode extends Node {\n  static SINE = 'sine';\n  static SQUARE = 'square';\n  static TRIANGLE = 'triangle';\n  static SAWTOOTH = 'sawtooth';\n  constructor() {\n    let method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : OscNode.SINE;\n    let timeNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new TimerNode();\n    super();\n    this.method = method;\n    this.timeNode = timeNode;\n  }\n  getNodeType(builder) {\n    return this.timeNode.getNodeType(builder);\n  }\n  construct() {\n    const method = this.method;\n    const timeNode = this.timeNode;\n    let outputNode = null;\n    if (method === OscNode.SINE) {\n      outputNode = add(mul(sin(mul(add(timeNode, .75), Math.PI * 2)), .5), .5);\n    } else if (method === OscNode.SQUARE) {\n      outputNode = round(fract(timeNode));\n    } else if (method === OscNode.TRIANGLE) {\n      outputNode = abs(sub(1, mul(fract(add(timeNode, .5)), 2)));\n    } else if (method === OscNode.SAWTOOTH) {\n      outputNode = fract(timeNode);\n    }\n    return outputNode;\n  }\n  serialize(data) {\n    super.serialize(data);\n    data.method = this.method;\n  }\n  deserialize(data) {\n    super.deserialize(data);\n    this.method = data.method;\n  }\n}\nexport default OscNode;","map":{"version":3,"names":["Node","TimerNode","abs","fract","round","sin","add","sub","mul","OscNode","SINE","SQUARE","TRIANGLE","SAWTOOTH","constructor","method","timeNode","getNodeType","builder","construct","outputNode","Math","PI","serialize","data","deserialize"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/examples/jsm/nodes/utils/OscNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport TimerNode from './TimerNode.js';\nimport { abs, fract, round, sin, add, sub, mul } from '../shadernode/ShaderNodeBaseElements.js';\n\nclass OscNode extends Node {\n\n\tstatic SINE = 'sine';\n\tstatic SQUARE = 'square';\n\tstatic TRIANGLE = 'triangle';\n\tstatic SAWTOOTH = 'sawtooth';\n\n\tconstructor( method = OscNode.SINE, timeNode = new TimerNode() ) {\n\n\t\tsuper();\n\n\t\tthis.method = method;\n\t\tthis.timeNode = timeNode;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.timeNode.getNodeType( builder );\n\n\t}\n\n\tconstruct() {\n\n\t\tconst method = this.method;\n\t\tconst timeNode = this.timeNode;\n\n\t\tlet outputNode = null;\n\n\t\tif ( method === OscNode.SINE ) {\n\n\t\t\toutputNode = add( mul( sin( mul( add( timeNode, .75 ), Math.PI * 2 ) ), .5 ), .5 );\n\n\t\t} else if ( method === OscNode.SQUARE ) {\n\n\t\t\toutputNode = round( fract( timeNode ) );\n\n\t\t} else if ( method === OscNode.TRIANGLE ) {\n\n\t\t\toutputNode = abs( sub( 1, mul( fract( add( timeNode, .5 ) ), 2 ) ) );\n\n\t\t} else if ( method === OscNode.SAWTOOTH ) {\n\n\t\t\toutputNode = fract( timeNode );\n\n\t\t}\n\n\t\treturn outputNode;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.method = this.method;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.method = data.method;\n\n\t}\n\n}\n\nexport default OscNode;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,iBAAiB;AAClC,OAAOC,SAAS,MAAM,gBAAgB;AACtC,SAASC,GAAG,EAAEC,KAAK,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,QAAQ,yCAAyC;AAE/F,MAAMC,OAAO,SAAST,IAAI,CAAC;EAE1B,OAAOU,IAAI,GAAG,MAAM;EACpB,OAAOC,MAAM,GAAG,QAAQ;EACxB,OAAOC,QAAQ,GAAG,UAAU;EAC5B,OAAOC,QAAQ,GAAG,UAAU;EAE5BC,WAAW,GAAsD;IAAA,IAApDC,MAAM,uEAAGN,OAAO,CAACC,IAAI;IAAA,IAAEM,QAAQ,uEAAG,IAAIf,SAAS,EAAE;IAE7D,KAAK,EAAE;IAEP,IAAI,CAACc,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EAEzB;EAEAC,WAAW,CAAEC,OAAO,EAAG;IAEtB,OAAO,IAAI,CAACF,QAAQ,CAACC,WAAW,CAAEC,OAAO,CAAE;EAE5C;EAEAC,SAAS,GAAG;IAEX,MAAMJ,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B,MAAMC,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAE9B,IAAII,UAAU,GAAG,IAAI;IAErB,IAAKL,MAAM,KAAKN,OAAO,CAACC,IAAI,EAAG;MAE9BU,UAAU,GAAGd,GAAG,CAAEE,GAAG,CAAEH,GAAG,CAAEG,GAAG,CAAEF,GAAG,CAAEU,QAAQ,EAAE,GAAG,CAAE,EAAEK,IAAI,CAACC,EAAE,GAAG,CAAC,CAAE,CAAE,EAAE,EAAE,CAAE,EAAE,EAAE,CAAE;IAEnF,CAAC,MAAM,IAAKP,MAAM,KAAKN,OAAO,CAACE,MAAM,EAAG;MAEvCS,UAAU,GAAGhB,KAAK,CAAED,KAAK,CAAEa,QAAQ,CAAE,CAAE;IAExC,CAAC,MAAM,IAAKD,MAAM,KAAKN,OAAO,CAACG,QAAQ,EAAG;MAEzCQ,UAAU,GAAGlB,GAAG,CAAEK,GAAG,CAAE,CAAC,EAAEC,GAAG,CAAEL,KAAK,CAAEG,GAAG,CAAEU,QAAQ,EAAE,EAAE,CAAE,CAAE,EAAE,CAAC,CAAE,CAAE,CAAE;IAErE,CAAC,MAAM,IAAKD,MAAM,KAAKN,OAAO,CAACI,QAAQ,EAAG;MAEzCO,UAAU,GAAGjB,KAAK,CAAEa,QAAQ,CAAE;IAE/B;IAEA,OAAOI,UAAU;EAElB;EAEAG,SAAS,CAAEC,IAAI,EAAG;IAEjB,KAAK,CAACD,SAAS,CAAEC,IAAI,CAAE;IAEvBA,IAAI,CAACT,MAAM,GAAG,IAAI,CAACA,MAAM;EAE1B;EAEAU,WAAW,CAAED,IAAI,EAAG;IAEnB,KAAK,CAACC,WAAW,CAAED,IAAI,CAAE;IAEzB,IAAI,CAACT,MAAM,GAAGS,IAAI,CAACT,MAAM;EAE1B;AAED;AAEA,eAAeN,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}