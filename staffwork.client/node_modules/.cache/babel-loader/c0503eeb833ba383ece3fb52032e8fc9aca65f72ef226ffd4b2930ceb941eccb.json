{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dro1l\\\\source\\\\repos\\\\StaffWork\\\\staffwork.client\\\\src\\\\pages\\\\Cabinet\\\\Cabinet.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\nimport { sign_out } from \"../../redux/action_creators/authorization_action_creator\";\nimport { Button, ButtonGroup } from \"react-bootstrap\";\nimport { fetch_all_wares, fetch_favorite_wares } from \"../../redux/action_creators/ware_action_creator\";\nimport CabinetAccount from \"./CabinetAccount\";\nimport CabinetFavorite from \"./CabinetFavorite\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cabinet = () => {\n  _s();\n  var _user$permissions;\n  const user = useAppSelector(state => state.authorizationReducer.user);\n  const allWares = useAppSelector(state => state.wareReducer.allWares.wares);\n  const favoriteWares = useAppSelector(state => state.wareReducer.favoriteWares);\n  const dispatch = useAppDispatch();\n  const [currentPage, setCurrentPage] = useState('account');\n  const signOutHandler = () => {\n    dispatch(sign_out());\n  };\n  const fetch_all = () => {\n    dispatch(fetch_all_wares({\n      sortBy: {\n        value: sortField.value,\n        isReverse: sortField.isReverse\n      },\n      filter: filter === \"\" ? null : filter\n    }));\n  };\n  useEffect(() => {\n    if (currentPage === 'wares') dispatch(fetch_all_wares());\n    if (currentPage === 'favorites') dispatch(fetch_favorite_wares());\n  }, [currentPage]);\n  //\n  // useEffect(() => {\n  //     console.log(wares)\n  // }, [wares])\n  const changeSortHandler = field => {\n    setSortField({\n      value: field,\n      isReverse: field === sortField.value ? !sortField.isReverse : false\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center display-6 mt-5\",\n        children: \"Personal Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: signOutHandler,\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"text-decoration-underline text-center\",\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'text-center',\n        children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setCurrentPage('account'),\n            className: `hover-white ${currentPage === 'account' ? 'opacity-75' : 'opacity-100'}`,\n            variant: \"primary\",\n            children: \"Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setCurrentPage('cart'),\n            className: `hover-white ${currentPage === 'cart' ? 'opacity-75' : 'opacity-100'}`,\n            variant: \"primary\",\n            children: \"Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setCurrentPage('favorites'),\n            className: `hover-white ${currentPage === 'favorites' ? 'opacity-75' : 'opacity-100'}`,\n            variant: \"primary\",\n            children: \"Favorites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), user !== null && user !== void 0 && (_user$permissions = user.permissions) !== null && _user$permissions !== void 0 && _user$permissions.includes(1) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setCurrentPage('wares'),\n              className: `hover-white ${currentPage === 'wares' ? 'opacity-75' : 'opacity-100'}`,\n              variant: \"primary\",\n              children: \"Wares\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container ${currentPage === 'account' ? 'd-block' : 'd-none'}`,\n      children: /*#__PURE__*/_jsxDEV(CabinetAccount, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container-fluid ${currentPage === 'favorites' ? 'd-block' : 'd-none'}`,\n      children: /*#__PURE__*/_jsxDEV(CabinetFavorite, {\n        favoriteWares: favoriteWares\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container-fluid ${currentPage === 'wares' ? 'd-block' : 'd-none'}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Cabinet, \"GCt5PdvBExojHnj2IChGX3I30Fs=\", false, function () {\n  return [useAppSelector, useAppSelector, useAppSelector, useAppDispatch];\n});\n_c = Cabinet;\nexport default Cabinet;\nvar _c;\n$RefreshReg$(_c, \"Cabinet\");","map":{"version":3,"names":["React","useEffect","useState","useAppDispatch","useAppSelector","sign_out","Button","ButtonGroup","fetch_all_wares","fetch_favorite_wares","CabinetAccount","CabinetFavorite","Cabinet","user","state","authorizationReducer","allWares","wareReducer","wares","favoriteWares","dispatch","currentPage","setCurrentPage","signOutHandler","fetch_all","sortBy","value","sortField","isReverse","filter","changeSortHandler","field","setSortField","cursor","permissions","includes"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Cabinet/Cabinet.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {\r\n    CaretDown,\r\n    CaretUp, EmojiExpressionless,\r\n    Google, Heart, Heartbreak,\r\n    HeartFill,\r\n    Mailbox,\r\n    Person,\r\n    PersonBadgeFill,\r\n    PlusCircle\r\n} from \"react-bootstrap-icons\";\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {sign_out} from \"../../redux/action_creators/authorization_action_creator\";\r\nimport {Button, ButtonGroup} from \"react-bootstrap\";\r\nimport {\r\n    delete_ware,\r\n    fetch_all_wares,\r\n    fetch_discount_wares,\r\n    fetch_discount_wares_authorized, fetch_favorite_wares, remove_from_favorite\r\n} from \"../../redux/action_creators/ware_action_creator\";\r\nimport {Link} from \"react-router-dom\";\r\nimport CabinetAccount from \"./CabinetAccount\";\r\nimport CabinetFavorite from \"./CabinetFavorite\";\r\n\r\nconst Cabinet = () => {\r\n    const user = useAppSelector(state => state.authorizationReducer.user)\r\n    const allWares = useAppSelector(state => state.wareReducer.allWares.wares)\r\n    const favoriteWares = useAppSelector(state => state.wareReducer.favoriteWares)\r\n\r\n    const dispatch = useAppDispatch()\r\n    const [currentPage, setCurrentPage] = useState('account')\r\n    const signOutHandler = () => {\r\n        dispatch(sign_out())\r\n    }\r\n\r\n\r\n\r\n    const fetch_all = () => {\r\n        dispatch(fetch_all_wares({sortBy: {value: sortField.value, isReverse: sortField.isReverse}, filter: filter === \"\" ? null : filter}))\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (currentPage === 'wares')\r\n            dispatch(fetch_all_wares())\r\n        if (currentPage === 'favorites')\r\n            dispatch(fetch_favorite_wares())\r\n    }, [currentPage])\r\n    //\r\n    // useEffect(() => {\r\n    //     console.log(wares)\r\n    // }, [wares])\r\n    const changeSortHandler = (field: string) => {\r\n        setSortField({value: field, isReverse: field === sortField.value ? !sortField.isReverse : false})\r\n    }\r\n    return (\r\n        <>\r\n            <div className={\"container\"}>\r\n                <h2 className={\"text-center display-6 mt-5\"}>Personal Account</h2>\r\n                <p onClick={signOutHandler} style={{cursor: 'pointer'}}\r\n                   className={\"text-decoration-underline text-center\"}>Sign Out</p>\r\n            </div>\r\n            <div className={\"container\"}>\r\n                <div className={'text-center'}>\r\n                    <ButtonGroup>\r\n                        <Button onClick={() => setCurrentPage('account')}\r\n                                className={`hover-white ${currentPage === 'account' ? 'opacity-75' : 'opacity-100'}`}\r\n                                variant=\"primary\">Account</Button>\r\n                        <Button onClick={() => setCurrentPage('cart')}\r\n                                className={`hover-white ${currentPage === 'cart' ? 'opacity-75' : 'opacity-100'}`}\r\n                                variant=\"primary\">Cart</Button>\r\n                        <Button onClick={() => setCurrentPage('favorites')}\r\n                                className={`hover-white ${currentPage === 'favorites' ? 'opacity-75' : 'opacity-100'}`}\r\n                                variant=\"primary\">Favorites</Button>\r\n                        {user?.permissions?.includes(1) ? <>\r\n                            <Button onClick={() => setCurrentPage('wares')}\r\n                                    className={`hover-white ${currentPage === 'wares' ? 'opacity-75' : 'opacity-100'}`}\r\n                                    variant=\"primary\">Wares</Button>\r\n                        </> : <></>}\r\n                    </ButtonGroup>\r\n                </div>\r\n            </div>\r\n            <div className={`container ${currentPage === 'account' ? 'd-block' : 'd-none'}`}>\r\n                <CabinetAccount user={user}/>\r\n            </div>\r\n            <div className={`container-fluid ${currentPage === 'favorites' ? 'd-block' : 'd-none'}`}>\r\n                <CabinetFavorite favoriteWares={favoriteWares}/>\r\n            </div>\r\n            <div className={`container-fluid ${currentPage === 'wares' ? 'd-block' : 'd-none'}`}>\r\n\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Cabinet;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}