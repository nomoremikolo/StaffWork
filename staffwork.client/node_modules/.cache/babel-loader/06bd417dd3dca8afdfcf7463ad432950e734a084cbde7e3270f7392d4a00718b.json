{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dro1l\\\\source\\\\repos\\\\StaffWork\\\\staffwork.client\\\\src\\\\pages\\\\Layout\\\\NotificationToastMessage.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { Toast, ToastContainer } from \"react-bootstrap\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\nimport { NotificationReducer } from \"../../redux/reducers/NotificationReducer\";\nimport ReactDOM from \"react-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationToastMessage = () => {\n  _s();\n  const {\n    DEACTIVATE_MESSAGE\n  } = NotificationReducer.actions;\n  const dispatch = useAppDispatch();\n  const messages = useAppSelector(state => state.NotificationReducer.messages);\n  const activeMessages = messages ? messages.filter(message => message.isActive) : null;\n  const deactivateMessage = id => {\n    dispatch(DEACTIVATE_MESSAGE(id));\n  };\n  const pushMessage = id => {\n    setTimeout(() => {\n      deactivateMessage(id);\n    }, 3000);\n  };\n  useEffect(() => {\n    if (activeMessages) {\n      if (activeMessages.length > 0) {\n        const lastMessage = activeMessages.length - 1;\n        const id = activeMessages[lastMessage].id;\n        pushMessage(id);\n        if (activeMessages.length > 5) {\n          deactivateMessage(activeMessages[0].id);\n        }\n      }\n    }\n  }, [activeMessages]);\n  return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ToastContainer, {\n      className: \"position-fixed end-0 bottom-0 mb-4 me-4 p-1\",\n      children: activeMessages != null ? activeMessages.reverse().map(message => {\n        return /*#__PURE__*/_jsxDEV(Toast, {\n          className: message.isSuccess ? \"bg-success\" : message.isError ? \"bg-danger\" : \"bg-warning\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-relative\",\n            children: [/*#__PURE__*/_jsxDEV(Toast.Body, {\n              className: \"text-white\",\n              children: message.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deactivateMessage(message.id),\n              className: \"btn btn-close position-absolute end-0 top-0 mt-1 me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 33\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 29\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false), document.getElementById('portal'));\n};\n_s(NotificationToastMessage, \"M31uuVICfsATxM6tuH6mCuPOg7c=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n_c = NotificationToastMessage;\nexport default NotificationToastMessage;\nvar _c;\n$RefreshReg$(_c, \"NotificationToastMessage\");","map":{"version":3,"names":["useEffect","Toast","ToastContainer","useAppDispatch","useAppSelector","NotificationReducer","ReactDOM","NotificationToastMessage","DEACTIVATE_MESSAGE","actions","dispatch","messages","state","activeMessages","filter","message","isActive","deactivateMessage","id","pushMessage","setTimeout","length","lastMessage","createPortal","reverse","map","isSuccess","isError","document","getElementById"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Layout/NotificationToastMessage.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { Toast, ToastContainer } from \"react-bootstrap\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport {MessageType, NotificationReducer} from \"../../redux/reducers/NotificationReducer\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst NotificationToastMessage = () => {\r\n    const { DEACTIVATE_MESSAGE } = NotificationReducer.actions;\r\n    const dispatch = useAppDispatch();\r\n    const messages: MessageType[] | null = useAppSelector((state) => state.NotificationReducer.messages);\r\n    const activeMessages = messages ? messages.filter((message) => message.isActive) : null;\r\n\r\n    const deactivateMessage = (id: number) => {\r\n        dispatch(DEACTIVATE_MESSAGE(id));\r\n    };\r\n\r\n    const pushMessage = (id: number) => {\r\n        setTimeout(() => {\r\n            deactivateMessage(id);\r\n        }, 3000);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (activeMessages) {\r\n            if (activeMessages.length > 0) {\r\n                const lastMessage = activeMessages!.length - 1;\r\n                const id = activeMessages![lastMessage].id;\r\n                pushMessage(id);\r\n                if(activeMessages.length > 5){\r\n                    deactivateMessage(activeMessages[0].id);\r\n                }\r\n            }\r\n        }\r\n    }, [activeMessages]);\r\n\r\n    return ReactDOM.createPortal(\r\n        <>\r\n            <ToastContainer className=\"position-fixed end-0 bottom-0 mb-4 me-4 p-1\">\r\n                {activeMessages != null ? (\r\n                    activeMessages.reverse().map((message: MessageType) => {\r\n                        return (\r\n                            <Toast\r\n                                className={message.isSuccess ? \"bg-success\" : message.isError ? \"bg-danger\" : \"bg-warning\"}\r\n                                key={message.id}\r\n                            >\r\n                                <div className=\"position-relative\">\r\n                                    <Toast.Body className={\"text-white\"}>{message.message}</Toast.Body>\r\n                                    <button\r\n                                        onClick={() => deactivateMessage(message.id)}\r\n                                        className={\"btn btn-close position-absolute end-0 top-0 mt-1 me-2\"}\r\n                                    ></button>\r\n                                </div>\r\n                            </Toast>\r\n                        );\r\n                    })\r\n                ) : (\r\n                    <></>\r\n                )}\r\n            </ToastContainer>\r\n        </>,\r\n        document.getElementById('portal') as HTMLElement\r\n    );\r\n};\r\n\r\nexport default NotificationToastMessage;"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,KAAK,EAAEC,cAAc,QAAQ,iBAAiB;AACvD,SAASC,cAAc,EAAEC,cAAc,QAAQ,mBAAmB;AAClE,SAAqBC,mBAAmB,QAAO,0CAA0C;AACzF,OAAOC,QAAQ,MAAM,WAAW;AAAC;AAAA;AAEjC,MAAMC,wBAAwB,GAAG,MAAM;EAAA;EACnC,MAAM;IAAEC;EAAmB,CAAC,GAAGH,mBAAmB,CAACI,OAAO;EAC1D,MAAMC,QAAQ,GAAGP,cAAc,EAAE;EACjC,MAAMQ,QAA8B,GAAGP,cAAc,CAAEQ,KAAK,IAAKA,KAAK,CAACP,mBAAmB,CAACM,QAAQ,CAAC;EACpG,MAAME,cAAc,GAAGF,QAAQ,GAAGA,QAAQ,CAACG,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACC,QAAQ,CAAC,GAAG,IAAI;EAEvF,MAAMC,iBAAiB,GAAIC,EAAU,IAAK;IACtCR,QAAQ,CAACF,kBAAkB,CAACU,EAAE,CAAC,CAAC;EACpC,CAAC;EAED,MAAMC,WAAW,GAAID,EAAU,IAAK;IAChCE,UAAU,CAAC,MAAM;MACbH,iBAAiB,CAACC,EAAE,CAAC;IACzB,CAAC,EAAE,IAAI,CAAC;EACZ,CAAC;EAEDlB,SAAS,CAAC,MAAM;IACZ,IAAIa,cAAc,EAAE;MAChB,IAAIA,cAAc,CAACQ,MAAM,GAAG,CAAC,EAAE;QAC3B,MAAMC,WAAW,GAAGT,cAAc,CAAEQ,MAAM,GAAG,CAAC;QAC9C,MAAMH,EAAE,GAAGL,cAAc,CAAES,WAAW,CAAC,CAACJ,EAAE;QAC1CC,WAAW,CAACD,EAAE,CAAC;QACf,IAAGL,cAAc,CAACQ,MAAM,GAAG,CAAC,EAAC;UACzBJ,iBAAiB,CAACJ,cAAc,CAAC,CAAC,CAAC,CAACK,EAAE,CAAC;QAC3C;MACJ;IACJ;EACJ,CAAC,EAAE,CAACL,cAAc,CAAC,CAAC;EAEpB,oBAAOP,QAAQ,CAACiB,YAAY,eACxB;IAAA,uBACI,QAAC,cAAc;MAAC,SAAS,EAAC,6CAA6C;MAAA,UAClEV,cAAc,IAAI,IAAI,GACnBA,cAAc,CAACW,OAAO,EAAE,CAACC,GAAG,CAAEV,OAAoB,IAAK;QACnD,oBACI,QAAC,KAAK;UACF,SAAS,EAAEA,OAAO,CAACW,SAAS,GAAG,YAAY,GAAGX,OAAO,CAACY,OAAO,GAAG,WAAW,GAAG,YAAa;UAAA,uBAG3F;YAAK,SAAS,EAAC,mBAAmB;YAAA,wBAC9B,QAAC,KAAK,CAAC,IAAI;cAAC,SAAS,EAAE,YAAa;cAAA,UAAEZ,OAAO,CAACA;YAAO;cAAA;cAAA;cAAA;YAAA,QAAc,eACnE;cACI,OAAO,EAAE,MAAME,iBAAiB,CAACF,OAAO,CAACG,EAAE,CAAE;cAC7C,SAAS,EAAE;YAAwD;cAAA;cAAA;cAAA;YAAA,QAC7D;UAAA;YAAA;YAAA;YAAA;UAAA;QACR,GARDH,OAAO,CAACG,EAAE;UAAA;UAAA;UAAA;QAAA,QASX;MAEhB,CAAC,CAAC,gBAEF;IACH;MAAA;MAAA;MAAA;IAAA;EACY,iBAClB,EACHU,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CACpC;AACL,CAAC;AAAC,GAxDItB,wBAAwB;EAAA,QAETJ,cAAc,EACQC,cAAc;AAAA;AAAA,KAHnDG,wBAAwB;AA0D9B,eAAeA,wBAAwB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}