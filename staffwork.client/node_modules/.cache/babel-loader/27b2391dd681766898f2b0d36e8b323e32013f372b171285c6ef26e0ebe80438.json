{"ast":null,"code":"import React,{useEffect}from'react';import{Link,useParams}from\"react-router-dom\";import{useAppDispatch,useAppSelector}from\"../../hooks/redux\";import{add_to_cart,add_to_favorite,fetch_ware_by_id}from\"../../redux/action_creators/ware_action_creator\";import{ButtonGroup,Carousel}from\"react-bootstrap\";import{PencilSquare}from\"react-bootstrap-icons\";import{ImagesEndpoint}from\"../../global_variables\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WarePage=function WarePage(){var _getByIdWare$images;var id=useParams();var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.wareReducer;}),getByIdWare=_useAppSelector.getByIdWare;useEffect(function(){if(id!==undefined){dispatch(fetch_ware_by_id(Number(id.id)));}},[]);useEffect(function(){if(id!==undefined){dispatch(fetch_ware_by_id(Number(id.id)));}},[id]);useEffect(function(){console.log(getByIdWare);},[getByIdWare]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:'container-fluid bg-dark bg-opacity-10 py-5',children:/*#__PURE__*/_jsx(\"div\",{className:'container',children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsx(Carousel,{variant:'dark',children:getByIdWare===null||getByIdWare===void 0?void 0:(_getByIdWare$images=getByIdWare.images)===null||_getByIdWare$images===void 0?void 0:_getByIdWare$images.split(\" \").map(function(item){return/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-50 text-center mx-auto\",src:\"\".concat(ImagesEndpoint,\"/Get/\").concat(item),alt:\"First slide\"})});})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:'mt-5 text-center text-md',children:[getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.name,\" \",/*#__PURE__*/_jsx(Link,{className:'btn p-0 mb-1',to:\"/EditWare/\".concat(getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.id),children:/*#__PURE__*/_jsx(PencilSquare,{width:32,height:32})})]}),/*#__PURE__*/_jsx(\"hr\",{className:'d-md-none'}),/*#__PURE__*/_jsxs(\"h5\",{className:'text-center text-md',children:[\"CATEGORY: \",getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.categoryName,\" | BRAND: \",getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.brandName]}),/*#__PURE__*/_jsx(\"hr\",{className:'d-md-none'}),(getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.countInStorage)>0?/*#__PURE__*/_jsx(\"h4\",{className:'text-center text-md',children:getByIdWare!==null&&getByIdWare!==void 0&&getByIdWare.isDiscount?/*#__PURE__*/_jsxs(\"p\",{className:'text-danger',children:[getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.price,\" \\u0433\\u0440\\u043D. \",/*#__PURE__*/_jsxs(\"del\",{className:'text-muted',children:[getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.oldPrice,\" \\u0433\\u0440\\u043D\"]})]}):/*#__PURE__*/_jsxs(\"p\",{children:[getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.price,\" \\u0433\\u0440\\u043D\"]})}):/*#__PURE__*/_jsx(\"h4\",{className:'text-decoration-underline text-center my-4',children:\"Ended\"}),/*#__PURE__*/_jsx(\"hr\",{className:'d-md-none'}),/*#__PURE__*/_jsxs(\"form\",{className:'bg-dark bg-opacity-25 px-4 pt-3 pb-5',children:[/*#__PURE__*/_jsx(\"p\",{className:'text-center text-md',children:\"\\u0420\\u043E\\u0437\\u043C\\u0456\\u0440\"}),/*#__PURE__*/_jsx(\"div\",{className:'text-center text-md',children:/*#__PURE__*/_jsxs(\"select\",{className:'form-select form-select-sm',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.sizes.split(\" \").map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:\"\",children:item});})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:'text-center mt-4',children:/*#__PURE__*/_jsxs(ButtonGroup,{className:'',children:[/*#__PURE__*/_jsx(\"button\",{disabled:(getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.countInStorage)>0?false:true,onClick:function onClick(){return dispatch(add_to_cart(getByIdWare.id));},className:'btn btn-success py-4 py-lg-4 px-5 mb-4 mb-md-0 px-lg',children:\"Add to cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch(add_to_favorite(getByIdWare.id));},className:'btn btn-primary py-4 py-lg-4 px-5 mb-4 mb-md-0 px-lg',children:\"Add to favorite\"})]})})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:'container mt-5 mb-5',children:[/*#__PURE__*/_jsx(\"h4\",{className:'text-center mb-5',children:\"Description\"}),/*#__PURE__*/_jsx(\"pre\",{className:'fs-5 desc',children:getByIdWare===null||getByIdWare===void 0?void 0:getByIdWare.description})]})]});};export default WarePage;","map":{"version":3,"names":["React","useEffect","Link","useParams","useAppDispatch","useAppSelector","add_to_cart","add_to_favorite","fetch_ware_by_id","ButtonGroup","Carousel","PencilSquare","ImagesEndpoint","WarePage","id","dispatch","state","wareReducer","getByIdWare","undefined","Number","console","log","images","split","map","item","name","categoryName","brandName","countInStorage","isDiscount","price","oldPrice","sizes","description"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/WarePage/WarePage.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport {Link, useParams} from \"react-router-dom\";\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {add_to_cart, add_to_favorite, fetch_ware_by_id} from \"../../redux/action_creators/ware_action_creator\";\r\nimport {ButtonGroup, Carousel} from \"react-bootstrap\";\r\nimport {PencilSquare} from \"react-bootstrap-icons\";\r\nimport {ImagesEndpoint} from \"../../global_variables\";\r\n\r\nconst WarePage = () => {\r\n    const id = useParams()\r\n    const dispatch = useAppDispatch()\r\n    const {getByIdWare} = useAppSelector(state => state.wareReducer)\r\n\r\n    useEffect(() => {\r\n        if (id !== undefined) {\r\n            dispatch(fetch_ware_by_id(Number(id.id)))\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (id !== undefined) {\r\n            dispatch(fetch_ware_by_id(Number(id.id)))\r\n        }\r\n    }, [id])\r\n    useEffect(() => {\r\n        console.log(getByIdWare)\r\n    }, [getByIdWare])\r\n    return (\r\n        <>\r\n            <div className={'container-fluid bg-dark bg-opacity-10 py-5'}>\r\n                <div className={'container'}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <Carousel variant={'dark'}>\r\n                                {getByIdWare?.images?.split(\" \").map(item => (\r\n                                    <Carousel.Item>\r\n                                        <img\r\n                                            className=\"d-block w-50 text-center mx-auto\"\r\n                                            src={`${ImagesEndpoint}/Get/${item}`}\r\n                                            alt=\"First slide\"\r\n                                        />\r\n                                    </Carousel.Item>\r\n                                ))}\r\n                            </Carousel>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                            <h1 className={'mt-5 text-center text-md'}>{getByIdWare?.name} <Link className={'btn p-0 mb-1'} to={`/EditWare/${getByIdWare?.id}`}><PencilSquare width={32} height={32}/></Link></h1>\r\n                            <hr className={'d-md-none'}/>\r\n                            <h5 className={'text-center text-md'}>CATEGORY: {getByIdWare?.categoryName} | BRAND: {getByIdWare?.brandName}</h5>\r\n                            <hr className={'d-md-none'}/>\r\n                            {getByIdWare?.countInStorage! > 0 ? <h4 className={'text-center text-md'}>{getByIdWare?.isDiscount ?\r\n                                <p className={'text-danger'}>{getByIdWare?.price} грн. <del\r\n                                    className={'text-muted'}>{getByIdWare?.oldPrice} грн</del></p> :\r\n                                <p>{getByIdWare?.price} грн</p>}</h4> : <h4 className={'text-decoration-underline text-center my-4'}>Ended</h4>}\r\n                            <hr className={'d-md-none'}/>\r\n                            <form className={'bg-dark bg-opacity-25 px-4 pt-3 pb-5'}>\r\n                                <p className={'text-center text-md'}>Розмір</p>\r\n                                <div className={'text-center text-md'}>\r\n                                    <select className={'form-select form-select-sm'}>\r\n                                        <option value=\"\"></option>\r\n                                        {getByIdWare?.sizes.split(\" \").map(item => (\r\n                                            <option value=\"\">{item}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n                            </form>\r\n                            <div className={'text-center mt-4'}>\r\n                                <ButtonGroup className={''}>\r\n                                    <button disabled={getByIdWare?.countInStorage! > 0 ? false : true}\r\n                                            onClick={() => dispatch(add_to_cart(getByIdWare!.id))}\r\n                                            className={'btn btn-success py-4 py-lg-4 px-5 mb-4 mb-md-0 px-lg'}>Add to cart\r\n                                    </button>\r\n                                    <button onClick={() => dispatch(add_to_favorite(getByIdWare!.id))}\r\n                                            className={'btn btn-primary py-4 py-lg-4 px-5 mb-4 mb-md-0 px-lg'}>Add to\r\n                                        favorite\r\n                                    </button>\r\n                                </ButtonGroup>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={'container mt-5 mb-5'}>\r\n                <h4 className={'text-center mb-5'}>Description</h4>\r\n                <pre className={'fs-5 desc'}>\r\n                    {getByIdWare?.description}\r\n                </pre>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default WarePage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}