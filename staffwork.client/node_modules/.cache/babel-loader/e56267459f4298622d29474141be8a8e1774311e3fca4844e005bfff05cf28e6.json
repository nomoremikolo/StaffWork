{"ast":null,"code":"import TempNode from '../core/TempNode.js';\nimport { nodeObject, vec2, add, mul, atan2, asin, clamp, positionWorldDirection } from '../shadernode/ShaderNodeElements.js';\nclass EquirectUVNode extends TempNode {\n  constructor() {\n    let dirNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : positionWorldDirection;\n    super('vec2');\n    this.dirNode = dirNode;\n  }\n  construct() {\n    const dir = nodeObject(this.dirNode);\n    const u = add(mul(atan2(dir.z, dir.x), 1 / (Math.PI * 2)), 0.5);\n    const v = add(mul(asin(clamp(dir.y, -1.0, 1.0)), 1 / Math.PI), 0.5);\n    return vec2(u, v);\n  }\n}\nexport default EquirectUVNode;","map":{"version":3,"names":["TempNode","nodeObject","vec2","add","mul","atan2","asin","clamp","positionWorldDirection","EquirectUVNode","constructor","dirNode","construct","dir","u","z","x","Math","PI","v","y"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/examples/jsm/nodes/utils/EquirectUVNode.js"],"sourcesContent":["import TempNode from '../core/TempNode.js';\nimport { nodeObject, vec2, add, mul, atan2, asin, clamp, positionWorldDirection } from '../shadernode/ShaderNodeElements.js';\n\nclass EquirectUVNode extends TempNode {\n\n\tconstructor( dirNode = positionWorldDirection ) {\n\n\t\tsuper( 'vec2' );\n\n\t\tthis.dirNode = dirNode;\n\n\t}\n\n\tconstruct() {\n\n\t\tconst dir = nodeObject( this.dirNode );\n\n\t\tconst u = add( mul( atan2( dir.z, dir.x ), 1 / ( Math.PI * 2 ) ), 0.5 );\n\t\tconst v = add( mul( asin( clamp( dir.y, - 1.0, 1.0 ) ), 1 / Math.PI ), 0.5 );\n\n\t\treturn vec2( u, v );\n\n\t}\n\n}\n\nexport default EquirectUVNode;\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,qBAAqB;AAC1C,SAASC,UAAU,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAEC,sBAAsB,QAAQ,qCAAqC;AAE5H,MAAMC,cAAc,SAAST,QAAQ,CAAC;EAErCU,WAAW,GAAqC;IAAA,IAAnCC,OAAO,uEAAGH,sBAAsB;IAE5C,KAAK,CAAE,MAAM,CAAE;IAEf,IAAI,CAACG,OAAO,GAAGA,OAAO;EAEvB;EAEAC,SAAS,GAAG;IAEX,MAAMC,GAAG,GAAGZ,UAAU,CAAE,IAAI,CAACU,OAAO,CAAE;IAEtC,MAAMG,CAAC,GAAGX,GAAG,CAAEC,GAAG,CAAEC,KAAK,CAAEQ,GAAG,CAACE,CAAC,EAAEF,GAAG,CAACG,CAAC,CAAE,EAAE,CAAC,IAAKC,IAAI,CAACC,EAAE,GAAG,CAAC,CAAE,CAAE,EAAE,GAAG,CAAE;IACvE,MAAMC,CAAC,GAAGhB,GAAG,CAAEC,GAAG,CAAEE,IAAI,CAAEC,KAAK,CAAEM,GAAG,CAACO,CAAC,EAAE,CAAE,GAAG,EAAE,GAAG,CAAE,CAAE,EAAE,CAAC,GAAGH,IAAI,CAACC,EAAE,CAAE,EAAE,GAAG,CAAE;IAE5E,OAAOhB,IAAI,CAAEY,CAAC,EAAEK,CAAC,CAAE;EAEpB;AAED;AAEA,eAAeV,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}