{"ast":null,"code":"import UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\nclass TimerNode extends UniformNode {\n  static LOCAL = 'local';\n  static GLOBAL = 'global';\n  static DELTA = 'delta';\n  static FRAME = 'frame';\n  constructor() {\n    let scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : TimerNode.LOCAL;\n    let scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    super(value);\n    this.scope = scope;\n    this.scale = scale;\n    this.updateType = NodeUpdateType.FRAME;\n  }\n  /*\n  \t@TODO:\n  \tgetNodeType( builder ) {\n  \n  \t\tconst scope = this.scope;\n  \n  \t\tif ( scope === TimerNode.FRAME ) {\n  \n  \t\t\treturn 'uint';\n  \n  \t\t}\n  \n  \t\treturn 'float';\n  \n  \t}\n  */\n  update(frame) {\n    const scope = this.scope;\n    const scale = this.scale;\n    if (scope === TimerNode.LOCAL) {\n      this.value += frame.deltaTime * scale;\n    } else if (scope === TimerNode.DELTA) {\n      this.value = frame.deltaTime * scale;\n    } else if (scope === TimerNode.FRAME) {\n      this.value = frame.frameId;\n    } else {\n      // global\n\n      this.value = frame.time * scale;\n    }\n  }\n  serialize(data) {\n    super.serialize(data);\n    data.scope = this.scope;\n    data.scale = this.scale;\n  }\n  deserialize(data) {\n    super.deserialize(data);\n    this.scope = data.scope;\n    this.scale = data.scale;\n  }\n}\nexport default TimerNode;","map":{"version":3,"names":["UniformNode","NodeUpdateType","TimerNode","LOCAL","GLOBAL","DELTA","FRAME","constructor","scope","scale","value","updateType","update","frame","deltaTime","frameId","time","serialize","data","deserialize"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/examples/jsm/nodes/utils/TimerNode.js"],"sourcesContent":["import UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nclass TimerNode extends UniformNode {\n\n\tstatic LOCAL = 'local';\n\tstatic GLOBAL = 'global';\n\tstatic DELTA = 'delta';\n\tstatic FRAME = 'frame';\n\n\tconstructor( scope = TimerNode.LOCAL, scale = 1, value = 0 ) {\n\n\t\tsuper( value );\n\n\t\tthis.scope = scope;\n\t\tthis.scale = scale;\n\n\t\tthis.updateType = NodeUpdateType.FRAME;\n\n\t}\n/*\n\t@TODO:\n\tgetNodeType( builder ) {\n\n\t\tconst scope = this.scope;\n\n\t\tif ( scope === TimerNode.FRAME ) {\n\n\t\t\treturn 'uint';\n\n\t\t}\n\n\t\treturn 'float';\n\n\t}\n*/\n\tupdate( frame ) {\n\n\t\tconst scope = this.scope;\n\t\tconst scale = this.scale;\n\n\t\tif ( scope === TimerNode.LOCAL ) {\n\n\t\t\tthis.value += frame.deltaTime * scale;\n\n\t\t} else if ( scope === TimerNode.DELTA ) {\n\n\t\t\tthis.value = frame.deltaTime * scale;\n\n\t\t} else if ( scope === TimerNode.FRAME ) {\n\n\t\t\tthis.value = frame.frameId;\n\n\t\t} else {\n\n\t\t\t// global\n\n\t\t\tthis.value = frame.time * scale;\n\n\t\t}\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.scope = this.scope;\n\t\tdata.scale = this.scale;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.scope = data.scope;\n\t\tthis.scale = data.scale;\n\n\t}\n\n}\n\nexport default TimerNode;\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,wBAAwB;AAChD,SAASC,cAAc,QAAQ,sBAAsB;AAErD,MAAMC,SAAS,SAASF,WAAW,CAAC;EAEnC,OAAOG,KAAK,GAAG,OAAO;EACtB,OAAOC,MAAM,GAAG,QAAQ;EACxB,OAAOC,KAAK,GAAG,OAAO;EACtB,OAAOC,KAAK,GAAG,OAAO;EAEtBC,WAAW,GAAkD;IAAA,IAAhDC,KAAK,uEAAGN,SAAS,CAACC,KAAK;IAAA,IAAEM,KAAK,uEAAG,CAAC;IAAA,IAAEC,KAAK,uEAAG,CAAC;IAEzD,KAAK,CAAEA,KAAK,CAAE;IAEd,IAAI,CAACF,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAElB,IAAI,CAACE,UAAU,GAAGV,cAAc,CAACK,KAAK;EAEvC;EACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCM,MAAM,CAAEC,KAAK,EAAG;IAEf,MAAML,KAAK,GAAG,IAAI,CAACA,KAAK;IACxB,MAAMC,KAAK,GAAG,IAAI,CAACA,KAAK;IAExB,IAAKD,KAAK,KAAKN,SAAS,CAACC,KAAK,EAAG;MAEhC,IAAI,CAACO,KAAK,IAAIG,KAAK,CAACC,SAAS,GAAGL,KAAK;IAEtC,CAAC,MAAM,IAAKD,KAAK,KAAKN,SAAS,CAACG,KAAK,EAAG;MAEvC,IAAI,CAACK,KAAK,GAAGG,KAAK,CAACC,SAAS,GAAGL,KAAK;IAErC,CAAC,MAAM,IAAKD,KAAK,KAAKN,SAAS,CAACI,KAAK,EAAG;MAEvC,IAAI,CAACI,KAAK,GAAGG,KAAK,CAACE,OAAO;IAE3B,CAAC,MAAM;MAEN;;MAEA,IAAI,CAACL,KAAK,GAAGG,KAAK,CAACG,IAAI,GAAGP,KAAK;IAEhC;EAED;EAEAQ,SAAS,CAAEC,IAAI,EAAG;IAEjB,KAAK,CAACD,SAAS,CAAEC,IAAI,CAAE;IAEvBA,IAAI,CAACV,KAAK,GAAG,IAAI,CAACA,KAAK;IACvBU,IAAI,CAACT,KAAK,GAAG,IAAI,CAACA,KAAK;EAExB;EAEAU,WAAW,CAAED,IAAI,EAAG;IAEnB,KAAK,CAACC,WAAW,CAAED,IAAI,CAAE;IAEzB,IAAI,CAACV,KAAK,GAAGU,IAAI,CAACV,KAAK;IACvB,IAAI,CAACC,KAAK,GAAGS,IAAI,CAACT,KAAK;EAExB;AAED;AAEA,eAAeP,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}