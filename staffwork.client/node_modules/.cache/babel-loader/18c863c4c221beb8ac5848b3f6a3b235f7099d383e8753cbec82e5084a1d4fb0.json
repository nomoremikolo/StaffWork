{"ast":null,"code":"import { Vector3 } from '../math/Vector3.js';\nimport { Quaternion } from '../math/Quaternion.js';\nimport { Clock } from '../core/Clock.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { AudioContext } from './AudioContext.js';\nconst _position = /*@__PURE__*/new Vector3();\nconst _quaternion = /*@__PURE__*/new Quaternion();\nconst _scale = /*@__PURE__*/new Vector3();\nconst _orientation = /*@__PURE__*/new Vector3();\nclass AudioListener extends Object3D {\n  constructor() {\n    super();\n    this.type = 'AudioListener';\n    this.context = AudioContext.getContext();\n    this.gain = this.context.createGain();\n    this.gain.connect(this.context.destination);\n    this.filter = null;\n    this.timeDelta = 0;\n\n    // private\n\n    this._clock = new Clock();\n  }\n  getInput() {\n    return this.gain;\n  }\n  removeFilter() {\n    if (this.filter !== null) {\n      this.gain.disconnect(this.filter);\n      this.filter.disconnect(this.context.destination);\n      this.gain.connect(this.context.destination);\n      this.filter = null;\n    }\n    return this;\n  }\n  getFilter() {\n    return this.filter;\n  }\n  setFilter(value) {\n    if (this.filter !== null) {\n      this.gain.disconnect(this.filter);\n      this.filter.disconnect(this.context.destination);\n    } else {\n      this.gain.disconnect(this.context.destination);\n    }\n    this.filter = value;\n    this.gain.connect(this.filter);\n    this.filter.connect(this.context.destination);\n    return this;\n  }\n  getMasterVolume() {\n    return this.gain.gain.value;\n  }\n  setMasterVolume(value) {\n    this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n    return this;\n  }\n  updateMatrixWorld(force) {\n    super.updateMatrixWorld(force);\n    const listener = this.context.listener;\n    const up = this.up;\n    this.timeDelta = this._clock.getDelta();\n    this.matrixWorld.decompose(_position, _quaternion, _scale);\n    _orientation.set(0, 0, -1).applyQuaternion(_quaternion);\n    if (listener.positionX) {\n      // code path for Chrome (see #14393)\n\n      const endTime = this.context.currentTime + this.timeDelta;\n      listener.positionX.linearRampToValueAtTime(_position.x, endTime);\n      listener.positionY.linearRampToValueAtTime(_position.y, endTime);\n      listener.positionZ.linearRampToValueAtTime(_position.z, endTime);\n      listener.forwardX.linearRampToValueAtTime(_orientation.x, endTime);\n      listener.forwardY.linearRampToValueAtTime(_orientation.y, endTime);\n      listener.forwardZ.linearRampToValueAtTime(_orientation.z, endTime);\n      listener.upX.linearRampToValueAtTime(up.x, endTime);\n      listener.upY.linearRampToValueAtTime(up.y, endTime);\n      listener.upZ.linearRampToValueAtTime(up.z, endTime);\n    } else {\n      listener.setPosition(_position.x, _position.y, _position.z);\n      listener.setOrientation(_orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z);\n    }\n  }\n}\nexport { AudioListener };","map":{"version":3,"names":["Vector3","Quaternion","Clock","Object3D","AudioContext","_position","_quaternion","_scale","_orientation","AudioListener","constructor","type","context","getContext","gain","createGain","connect","destination","filter","timeDelta","_clock","getInput","removeFilter","disconnect","getFilter","setFilter","value","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","updateMatrixWorld","force","listener","up","getDelta","matrixWorld","decompose","set","applyQuaternion","positionX","endTime","linearRampToValueAtTime","x","positionY","y","positionZ","z","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/src/audio/AudioListener.js"],"sourcesContent":["import { Vector3 } from '../math/Vector3.js';\nimport { Quaternion } from '../math/Quaternion.js';\nimport { Clock } from '../core/Clock.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { AudioContext } from './AudioContext.js';\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position.x, _position.y, _position.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nexport { AudioListener };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}