{"ast":null,"code":"import UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\nclass MaxMipLevelNode extends UniformNode {\n  constructor(texture) {\n    super(0);\n    this.texture = texture;\n    this.updateType = NodeUpdateType.FRAME;\n  }\n  update() {\n    const images = this.texture.images;\n    const image = images && images.length > 0 ? images[0]?.image || images[0] : this.texture.image;\n    if (image?.width !== undefined) {\n      const {\n        width,\n        height\n      } = image;\n      this.value = Math.log2(Math.max(width, height));\n    }\n  }\n}\nexport default MaxMipLevelNode;","map":{"version":3,"names":["UniformNode","NodeUpdateType","MaxMipLevelNode","constructor","texture","updateType","FRAME","update","images","image","length","width","undefined","height","value","Math","log2","max"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/node_modules/three/examples/jsm/nodes/utils/MaxMipLevelNode.js"],"sourcesContent":["import UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nclass MaxMipLevelNode extends UniformNode {\n\n\tconstructor( texture ) {\n\n\t\tsuper( 0 );\n\n\t\tthis.texture = texture;\n\n\t\tthis.updateType = NodeUpdateType.FRAME;\n\n\t}\n\n\tupdate() {\n\n\t\tconst images = this.texture.images;\n\t\tconst image = ( images && images.length > 0 ) ? ( images[ 0 ]?.image || images[ 0 ] ) : this.texture.image;\n\n\t\tif ( image?.width !== undefined ) {\n\n\t\t\tconst { width, height } = image;\n\n\t\t\tthis.value = Math.log2( Math.max( width, height ) );\n\n\t\t}\n\n\t}\n\n}\n\nexport default MaxMipLevelNode;\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,wBAAwB;AAChD,SAASC,cAAc,QAAQ,sBAAsB;AAErD,MAAMC,eAAe,SAASF,WAAW,CAAC;EAEzCG,WAAW,CAAEC,OAAO,EAAG;IAEtB,KAAK,CAAE,CAAC,CAAE;IAEV,IAAI,CAACA,OAAO,GAAGA,OAAO;IAEtB,IAAI,CAACC,UAAU,GAAGJ,cAAc,CAACK,KAAK;EAEvC;EAEAC,MAAM,GAAG;IAER,MAAMC,MAAM,GAAG,IAAI,CAACJ,OAAO,CAACI,MAAM;IAClC,MAAMC,KAAK,GAAKD,MAAM,IAAIA,MAAM,CAACE,MAAM,GAAG,CAAC,GAAOF,MAAM,CAAE,CAAC,CAAE,EAAEC,KAAK,IAAID,MAAM,CAAE,CAAC,CAAE,GAAK,IAAI,CAACJ,OAAO,CAACK,KAAK;IAE1G,IAAKA,KAAK,EAAEE,KAAK,KAAKC,SAAS,EAAG;MAEjC,MAAM;QAAED,KAAK;QAAEE;MAAO,CAAC,GAAGJ,KAAK;MAE/B,IAAI,CAACK,KAAK,GAAGC,IAAI,CAACC,IAAI,CAAED,IAAI,CAACE,GAAG,CAAEN,KAAK,EAAEE,MAAM,CAAE,CAAE;IAEpD;EAED;AAED;AAEA,eAAeX,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}