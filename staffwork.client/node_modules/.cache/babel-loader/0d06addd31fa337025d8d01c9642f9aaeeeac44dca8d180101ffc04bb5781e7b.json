{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from\"react-router-dom\";import{useAppDispatch,useAppSelector}from\"../../hooks/redux\";import{delete_category,fetch_all_categories}from\"../../redux/action_creators/ware_action_creator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CabinetCategories=function CabinetCategories(){var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.wareReducer.allCategories;}),categories=_useAppSelector.categories,isLoading=_useAppSelector.isLoading,errors=_useAppSelector.errors;useEffect(function(){dispatch(fetch_all_categories());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:'container mt-5',children:[/*#__PURE__*/_jsx(\"p\",{className:'text-center',children:/*#__PURE__*/_jsx(Link,{target:\"_blank\",to:\"/NewCategory\",children:\"Create new category\"})}),/*#__PURE__*/_jsx(\"div\",{className:'table-responsive',children:/*#__PURE__*/_jsxs(\"table\",{className:'table text-center',children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Control\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:categories.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return dispatch(delete_category(item.id,function(statusCode){if(statusCode===200){dispatch(fetch_all_categories());}}));},className:'btn btn-danger py-0',children:\"Delete\"})})]});})})]})})]});};export default CabinetCategories;","map":{"version":3,"names":["React","useEffect","Link","useAppDispatch","useAppSelector","delete_category","fetch_all_categories","CabinetCategories","dispatch","state","wareReducer","allCategories","categories","isLoading","errors","map","item","id","name","e","statusCode"],"sources":["C:/Users/dro1l/source/repos/StaffWork/staffwork.client/src/pages/Account/CabinetCategories.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport {Accordion} from \"react-bootstrap\";\r\nimport CabinetOrderItem from \"./CabinetOrderItem\";\r\nimport {fetch_all_users} from \"../../redux/action_creators/users_action_creator\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\r\nimport {delete_category, fetch_all_categories} from \"../../redux/action_creators/ware_action_creator\";\r\n\r\nconst CabinetCategories = () => {\r\n    const dispatch = useAppDispatch()\r\n    const {categories, isLoading, errors} = useAppSelector(state => state.wareReducer.allCategories)\r\n\r\n    useEffect(() => {\r\n        dispatch(fetch_all_categories())\r\n    }, [ ])\r\n    return (\r\n        <div className={'container mt-5'}>\r\n            <p className={'text-center'}><Link target=\"_blank\" to={\"/NewCategory\"}>Create new category</Link></p>\r\n            <div className={'table-responsive'}>\r\n                <table className={'table text-center'}>\r\n                    <thead>\r\n                    <tr>\r\n                        <th>\r\n                            Id\r\n                        </th>\r\n                        <th>\r\n                            Name\r\n                        </th>\r\n                        <th>Control</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {categories.map(item => (\r\n                        <tr>\r\n                            <td>{item.id}</td>\r\n                            <td>{item.name}</td>\r\n                            <td>\r\n                                <button onClick={e => dispatch(delete_category(item.id, (statusCode) => {\r\n                                    if (statusCode === 200){\r\n                                        dispatch(fetch_all_categories())\r\n                                    }\r\n                                }))} className={'btn btn-danger py-0'}>\r\n                                    Delete\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CabinetCategories;"],"mappings":"AAAA,MAAOA,MAAK,EAAGC,SAAS,KAAO,OAAO,CAItC,OAAQC,IAAI,KAAO,kBAAkB,CACrC,OAAQC,cAAc,CAAEC,cAAc,KAAO,mBAAmB,CAChE,OAAQC,eAAe,CAAEC,oBAAoB,KAAO,iDAAiD,CAAC,wFAEtG,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,EAAS,CAC5B,GAAMC,SAAQ,CAAGL,cAAc,EAAE,CACjC,oBAAwCC,cAAc,CAAC,SAAAK,KAAK,QAAIA,MAAK,CAACC,WAAW,CAACC,aAAa,GAAC,CAAzFC,UAAU,iBAAVA,UAAU,CAAEC,SAAS,iBAATA,SAAS,CAAEC,MAAM,iBAANA,MAAM,CAEpCb,SAAS,CAAC,UAAM,CACZO,QAAQ,CAACF,oBAAoB,EAAE,CAAC,CACpC,CAAC,CAAE,EAAG,CAAC,CACP,mBACI,aAAK,SAAS,CAAE,gBAAiB,wBAC7B,UAAG,SAAS,CAAE,aAAc,uBAAC,KAAC,IAAI,EAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAE,cAAe,iCAA2B,EAAI,cACrG,YAAK,SAAS,CAAE,kBAAmB,uBAC/B,eAAO,SAAS,CAAE,mBAAoB,wBAClC,oCACA,mCACI,0BAEK,cACL,4BAEK,cACL,+BAAgB,GACf,EACG,cACR,uBACCM,UAAU,CAACG,GAAG,CAAC,SAAAC,IAAI,qBAChB,mCACI,oBAAKA,IAAI,CAACC,EAAE,EAAM,cAClB,oBAAKD,IAAI,CAACE,IAAI,EAAM,cACpB,iCACI,eAAQ,OAAO,CAAE,iBAAAC,CAAC,QAAIX,SAAQ,CAACH,eAAe,CAACW,IAAI,CAACC,EAAE,CAAE,SAACG,UAAU,CAAK,CACpE,GAAIA,UAAU,GAAK,GAAG,CAAC,CACnBZ,QAAQ,CAACF,oBAAoB,EAAE,CAAC,CACpC,CACJ,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,CAAE,qBAAsB,oBAE7B,EACR,GACJ,EACR,CAAC,EACM,GACJ,EACN,GACJ,CAEd,CAAC,CAED,cAAeC,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}